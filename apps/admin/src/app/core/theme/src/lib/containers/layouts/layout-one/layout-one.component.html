<div class="wrapper">
  <div
    class="sidebar-panel"
    id="sidebar"
    [style.background-color]="backgroundColor"
  >
    <!-- <div
      class="sidebar-background"
      [style.background-image]="'url(' + background_image + ')'"
    ></div> -->
    <hospitality-bot-sidenav></hospitality-bot-sidenav>
  </div>
  <div class="main-panel" id="main-panel">
    <div class="main-panel--header">
      <div class="options">
        <admin-search-bar style="width: 23%;"></admin-search-bar>
        <button (click)="toggleGlobalFilter()" class="header--button">
          <p class="filter-button--text">
            {{ filterConfig.branchName }}&nbsp;<b style="font-weight: 400;"
              >{{ filterConfig.totalFilterContent() }}
            </b>
          </p>
          <mat-icon class="material-icons" matSuffix>filter_list</mat-icon>
        </button>
        <div
          class="filter-wrapper"
          *ngIf="
            isGlobalFilterVisible &&
            (filterService.emitFilterValue$ | async) as initialFilterValue
          "
        >
          <admin-filter
            [initialFilterValue]="initialFilterValue"
            (onCloseFilter)="toggleGlobalFilter()"
            (onApplyFilter)="applyFilter($event)"
            (onResetFilter)="resetFilter($event)"
          ></admin-filter>
        </div>
        <hospitality-bot-daterange
          style="width: 23%;"
          (onDateRangeFilter)="applyDateRangeFilter($event)"
        ></hospitality-bot-daterange>
        <div class="dropdown-wrapper">
          <admin-profile-dropdown
            [items]="profile"
            (onProfileAction)="profileAction($event)"
          ></admin-profile-dropdown>
        </div>
      </div>
      <div class="refresh__wrapper">
        <p class="status">
          Last updated at
          {{ lastUpdatedAt }}
        </p>
        <div class="seperator"></div>
        <div (click)="refreshDashboard()" class="refresh__wrapper--icon">
          <mat-icon class="material-icons" matSuffix>refresh</mat-icon>
        </div>
      </div>
    </div>
    <div class="main-panel--container">
      <div class="main">
        <div class="router__wrapper">
          <mat-progress-bar
            *ngIf="progressSpinnerService.isProgressSpinnerVisible"
            mode="query"
          ></mat-progress-bar>

          <router-outlet></router-outlet>
        </div>
        <admin-footer></admin-footer>
      </div>
    </div>
  </div>
</div>
