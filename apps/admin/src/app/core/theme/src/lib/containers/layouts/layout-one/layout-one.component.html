<div class="wrapper">
  <div
    class="sidebar-panel"
    id="sidebar"
    [style.background-color]="backgroundColor"
  >
    <!-- <div
      class="sidebar-background"
      [style.background-image]="'url(' + background_image + ')'"
    ></div> -->
    <hospitality-bot-sidenav></hospitality-bot-sidenav>
  </div>
  <div class="main-panel" id="main-panel">
    <div class="main-panel--header">
      <!-- message header -->
      <div
        class="options"
        [ngStyle]="
          checkForMessageRoute()
            ? { visibility: 'visible', width: '100%' }
            : { visibility: 'hidden', height: '0px' }
        "
      >
        <div class="breadcrums">
          Conversation &gt; <span class="breadcrums_messages">Messages</span>
        </div>
        <div class="layoutMessageCheck" *ngIf="checkForMessageRoute()">
          <div style="margin-bottom: -6px;">
            <admin-message-tab-menu></admin-message-tab-menu>
          </div>
          <div class="dropdown-wrapper">
            <admin-profile-dropdown
              [items]="profile"
              (onProfileAction)="profileAction($event)"
            ></admin-profile-dropdown>
          </div>
        </div>
      </div>
      <!-- main-headers -->
      <div
        class="options"
        [ngStyle]="
          !checkForMessageRoute()
            ? { visibility: 'visible' }
            : { visibility: 'hidden', height: '0px' }
        "
      >
        <div class="global_search">
          <admin-search-bar
            [parentForm]="searchFG"
            [name]="'search'"
            [parentSearchVisible]="isGlobalSearchVisible"
            (parentFilterVisible)="switchVisibility()"
          ></admin-search-bar>
        </div>
        <div class="filter-range-wrapper">
          <div style="position: relative;" class="temp-width">
            <button (click)="toggleGlobalFilter()" class="header--button">
              <p class="filter-button--text">
                {{ filterConfig.branchName }}&nbsp;<b
                  class="layoutFilterContent"
                  >{{ filterConfig.totalFilterContent() }}
                </b>
              </p>
              <img class="filter-icon" src="assets/svg/Filter-Icon.svg" />
            </button>
            <div
              class="filter-wrapper"
              *ngIf="
                isGlobalFilterVisible &&
                (filterService.emitFilterValue$ | async) as initialFilterValue
              "
            >
              <admin-filter
                [initialFilterValue]="initialFilterValue"
                (onCloseFilter)="closeGlobalFilter()"
                (onApplyFilter)="applyFilter($event)"
                (onResetFilter)="resetFilter($event)"
              ></admin-filter>
            </div>
          </div>
          </div>
          <div class="filter-range-wrapper">
            <hospitality-bot-daterange
              class="date-range temp-width"
              [timezone]="timezone"
              (onDateRangeFilter)="applyDateRangeFilter($event)"
              (removeVisibility)="noFilterNoSearch()"
            ></hospitality-bot-daterange>
          </div>
        <div class="dropdown-wrapper">
          <admin-profile-dropdown
            [items]="profile"
            (onProfileAction)="profileAction($event)"
          ></admin-profile-dropdown>
        </div>
      </div>
      <mat-progress-bar
        *ngIf="
          progressSpinnerService.isProgressSpinnerVisible &&
          !checkForMessageRoute()
        "
        mode="query"
      ></mat-progress-bar>
    </div>
    <div class="main-panel--container">
      <div class="main">
        <div class="router__wrapper">
          <router-outlet></router-outlet>
        </div>
        <admin-footer></admin-footer>
      </div>
    </div>
  </div>
</div>
