<div class="wrapper">
  <hospitality-bot-navigation-header
    [heading]="pageTitle"
    [routes]="navRoutes"
  ></hospitality-bot-navigation-header>

  <div class="form-block" [formGroup]="agentForm">
    <div class="code">
      <span class="code__label"> Code: </span>
      <span class="code__hash"> {{ packageCode }} </span>
    </div>
    <hospitality-bot-toggle-switch
      class="status"
      controlName="active"
      label="Black listed:"
      onLabel="Yes"
      offLabel="No"
    ></hospitality-bot-toggle-switch>

    <hospitality-bot-input
      class="half-width"
      controlName="name"
      label="Agent Name"
    ></hospitality-bot-input>

    <hospitality-bot-input
      class="half-width"
      controlName="email"
      label="Email"
      [props]="{
        type: 'email',
        errorMessages: {
          required: 'This is a required field.',
          email: 'Enter valid email.'
        }
      }"
    ></hospitality-bot-input>

    <hospitality-bot-phone-number
      class="half-width"
      preControlName="cc"
      postControlName="phoneNo"
    ></hospitality-bot-phone-number>

    <hospitality-bot-input
      class="half-width"
      controlName="iataNo"
      label="IATA No."
      maxLength="14"
      [props]="{
        placeholder: 'Enter 14 digit IATA No.',
        type: 'number',
        errorMessages: {
          requiredLength: 'Length should be 14 digit.'
        }
      }"
    ></hospitality-bot-input>

    <hospitality-bot-select
      class="half-width"
      controlName="companyId"
      label="Company Name"
      [options]="companyList"
      [props]="{ isAsync: true, createPrompt: '+ Add New Company' }"
      [loading]="loadingCompany"
      (paginate)="loadMoreCompany()"
      (onSearch)="searchCompany($event)"
      [stopEmission]="noMoreCompany"
      (onCreate)="createCompany()"
    ></hospitality-bot-select>

    <hospitality-bot-input
      class="half-width"
      controlName="companyName"
      label="Company Name"
    ></hospitality-bot-input>

    <hospitality-bot-address-component class="half-width" controlName="address">
    </hospitality-bot-address-component>

    <hospitality-bot-prefix-field
      class="half-width"
      [options]="commissionTypes"
      label="Commission"
      preControlName="commissionType"
      postControlName="commission"
      [defaultProps]="{ post: { type: 'number' } }"
      [props]="{
        type: 'number',
        errorMessages: {
          required: 'This is a required field.',
          min: 'Minimum value should be 0.',
          max: 'Maximum value should be 100.'
        }
      }"
    ></hospitality-bot-prefix-field>
  </div>

  <div class="action-buttons">
    <hospitality-bot-button
      variant="outlined"
      severity="reset"
      class="reset-btn"
      [label]="'Reset All'"
      (onClick)="reset()"
    ></hospitality-bot-button>

    <hospitality-bot-button
      class="create-btn"
      [label]="agentId ? 'Update' : 'Save'"
      (onClick)="handleSubmit()"
    ></hospitality-bot-button>
  </div>
</div>
