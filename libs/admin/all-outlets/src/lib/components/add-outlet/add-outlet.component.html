<hospitality-bot-navigation-header [heading]="pageTitle" [routes]="navRoutes">
  <hospitality-bot-button
    label="Print QR Code"
    (onClick)="onPrintQrCode()"
    [disabled]="!outletId"
  ></hospitality-bot-button>
</hospitality-bot-navigation-header>

<div [formGroup]="useForm">
  <div class="hotel-header">
    <div class="header__title">Outlet Information</div>
  </div>
  <div class="form-block">
    <hospitality-bot-input
      class="half-width"
      controlName="name"
      label="Name"
      maxLength="60"
      [props]="{
        placeholder: 'Enter'
      }"
    ></hospitality-bot-input>
    <div class="half-width type-wrapper">
      <hospitality-bot-select
        class="half-width"
        controlName="type"
        label="Type"
        [options]="types"
        [props]="{
          placeholder: 'Select Type'
        }"
      ></hospitality-bot-select>
      <hospitality-bot-select
        class="half-width"
        controlName="subType"
        label="Sub Type"
        [options]="subType"
        [disabled]="!isTypeSelected"
        [props]="{
          placeholder: 'Select Sub Type'
        }"
      ></hospitality-bot-select>
    </div>
    <hospitality-bot-input
      class="half-width"
      controlName="emailId"
      label="Email"
      [props]="{
        placeholder: 'Enter',
        errorMessages: {
          required: 'This is a required field.',
          pattern: 'Please enter a valid email address.'
        }
      }"
    ></hospitality-bot-input>
    <div class="half-width" [formGroup]="useForm.get('contact')">
      <hospitality-bot-phone-number
        preControlName="countryCode"
        postControlName="number"
      ></hospitality-bot-phone-number>
    </div>

    <hospitality-bot-address-component class="half-width" controlName="address">
    </hospitality-bot-address-component>

    <hospitality-bot-multi-select
      class="half-width"
      controlName="cuisinesType"
      label="cuisine Type"
      [options]="Cousins"
      *ngIf="useForm.get('type').value === 'RESTAURANT'"
    ></hospitality-bot-multi-select>

    <div class="file-upload-wrapper">
      <hospitality-bot-custom-file-upload
        formControlName="imageUrl"
        label="Image"
        isFeatureView="true"
        description="Mandatory to add at least 1 image"
        [settings]="{
          limit: 1,
          unit: 4,
          isMultiple: true
        }"
        [entityId]=""
        path="static-content/room-types"
      ></hospitality-bot-custom-file-upload>
    </div>
    <div class="des-template">
      <div class="des-template__label">Description</div>
      <div class="des-template__input">
        <hospitality-bot-template-editor
          [parentFG]="useForm"
          [name]="'description'"
          [height]="250"
        ></hospitality-bot-template-editor>
      </div>
    </div>
  </div>

  <!-- //ng ngSwitch it will operate on the basis of type -->

  <ng-container [ngSwitch]="useForm.get('type').value">
    <hospitality-bot-restaurant-form
      [compServices]="compServices"
      [menuList]="menuList"
      [outletId]="outletId"
      *ngSwitchCase="'RESTAURANT'"
      class="full-width"
      [isLoading]="loading"
      (onCreateAndContinueFeature)="submitForm($event)"
    ></hospitality-bot-restaurant-form>
    <hospitality-bot-spa-form
      [isLoading]="loading"
      [paidServices]="paidServices"
      [outletId]="outletId"
      *ngSwitchCase="'SPA'"
      (onCreateAndContinueFeature)="submitForm($event)"
      class="full-width"
    >
    </hospitality-bot-spa-form>
    <hospitality-bot-banquet-form
      [isLoading]="loading"
      [compServices]="compServices"
      [paidServices]="paidServices"
      [isPaidLoading]="isPaidLoading"
      [isCompLoading]="isCompLoading"
      [outletId]="outletId"
      (onCreateAndContinueFeature)="submitForm($event)"
      *ngSwitchCase="'VENUE'"
      class="full-width"
    >
    </hospitality-bot-banquet-form>
  </ng-container>

  <hospitality-bot-social-media
    *ngIf="useForm.get('type').value.length"
    controlName="socialPlatforms"
  ></hospitality-bot-social-media>

  <div class="footer-buttons full-width">
    <hospitality-bot-button
      label="Reset All"
      (onClick)="resetForm()"
      variant="outlined"
      severity="reset"
    ></hospitality-bot-button>
    <hospitality-bot-button
      [label]="outletId ? 'update' : 'Create'"
      (onClick)="submitForm(entityId ? 'hotel' : 'brand')"
    ></hospitality-bot-button>
  </div>
</div>
