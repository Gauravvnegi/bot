<div class="wrapper" [formGroup]="useForm" [id]="fa.referenceId">
  <hospitality-bot-navigation-header
    [heading]="pageTitle"
    [routes]="navRoutes"
  ></hospitality-bot-navigation-header>

  <div class="form-wrapper">
    <div class="form-block">
      <div class="code">
        <span class="code__label">Code: </span>
        <span class="code__hash">{{ packageCode }}</span>
      </div>
      <hospitality-bot-toggle-switch
        class="status"
        controlName="active"
        label="Status"
      ></hospitality-bot-toggle-switch>
      <hospitality-bot-input
        class="half-width"
        label="Name"
        controlName="name"
        maxLength="60"
        [props]="{
          placeholder: 'Enter name'
        }"
      ></hospitality-bot-input>
      <hospitality-bot-select
        class="half-width"
        label="Type"
        controlName="parentId"
        [options]="foodCategories"
        [props]="{
          isAsync: true,
          placeholder: 'Select Type',
          createPrompt: '+ Add New Type',
          inputPrompt: 'Enter Type'
        }"
      ></hospitality-bot-select>
      <hospitality-bot-discount-form
        [controls]="{
        originalPrice: 'rate'
       }"
        class="container"
      ></hospitality-bot-discount-form>
      <hospitality-bot-input
        class="one-third-width"
        controlName="hsnCode"
        label="HSN Code"
        [props]="{
          placeholder: 'Enter HSN Code'
        }"
      ></hospitality-bot-input>
      <hospitality-bot-multi-select
        label="Tax"
        class="one-third-width"
        controlName="taxIds"
        [props]="{
          isAsync: true,
          createPrompt: '+ Create New Tax',
          placeholder: 'Select Tax'
        }"
        (onCreate)="createTax()"
        [options]="taxes"
      ></hospitality-bot-multi-select>
      <hospitality-bot-custom-file-upload
        formControlName="imageUrl"
        label="Image"
        [description]="
          'This image will also reflect on Webapp and on your services'
        "
      ></hospitality-bot-custom-file-upload>
      <hospitality-bot-form-action
        class="full-width"
        [loading]="loading"
        [isId]="foodPackageId"
        (onPreAction)="handleReset()"
        (onPostAction)="handleSubmit()"
        #fa
      >
      </hospitality-bot-form-action>
    </div>

    <!-- <hospitality-bot-food-items></hospitality-bot-food-items> -->
  </div>
</div>
<div class="wrapper" [formGroup]="useForm">
  <div *ngIf="foodPackageId">
    <div class="form-wrapper">
      <div class="items-wrapper">
        <div class="heading-wrapper">
          <div class="heading">Items</div>
        </div>
        <hospitality-bot-iterator
          class="iterator full-width"
          [fields]="fields"
          [useFormArray]="foodItemsArray"
          ctaLabel="+ Add Item"
          (currentIndex)="onItemsAdded($event)"
        ></hospitality-bot-iterator>
      </div>
    </div>

    <div class="btn-wrapper">
      <hospitality-bot-button
        label="Save"
        [disabled]="!foodPackageId"
        (onClick)="handleSave()"
      ></hospitality-bot-button>
    </div>
  </div>
</div>
