<div class="hotel-wrapper">
  <div class="header">Rules</div>
  <hr />
  <div class="hotel-services-wrapper" [formGroup]="useForm">
    <p-accordion [multiple]="true" formArrayName="rules">
      <p-accordionTab
        *ngFor="let rule of rulesControl.controls; let i = index"
        [formGroupName]="i"
        click
        [ngStyle]="{
          'border-bottom': rule.expanded
            ? '1px solid rgba(112, 112, 112, 0.35)'
            : 'none'
        }"
      >
        <p-header>
          <div>
            {{
              rulesControl.controls[i].get('title').value || 'Rule ' + (i + 1)
            }}
          </div>
          <hospitality-bot-button
            label="Remove"
            variant="text"
            severity="reset"
            (onClick)="removeRule(i)"
            [disabled]="rulesControl.controls.length === 1"
          ></hospitality-bot-button>
        </p-header>

        <hospitality-bot-input
          class="half-width"
          controlName="title"
          label="Name"
          maxLength="60"
        >
        </hospitality-bot-input>
        <div class="des-template">
          <div class="des-template__label">Description</div>
          <div class="des-template__input">
            <hospitality-bot-template-editor
              [parentFG]="this.useForm.get('rules').controls[i]"
              [name]="'description'"
              [height]="250"
            ></hospitality-bot-template-editor>
          </div>
        </div>
      </p-accordionTab>
    </p-accordion>
  </div>
  <hospitality-bot-button
    (onClick)="addRule()"
    class="add-more"
    label="+ Add More Rule"
    variant="text"
  ></hospitality-bot-button>
</div>
