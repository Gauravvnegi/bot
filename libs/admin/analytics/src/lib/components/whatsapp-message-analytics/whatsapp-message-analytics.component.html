<div class="graphContainer">
  <div class="messageAnalytics">
    <div class="analyticsHeading">
      <p>Messages</p>
      <div class="info-icon">
        <img src="assets/svg/info.svg" alt="info-icon" />
        <div class="tooltip">
          <span class="arrow"></span>
          Total number of guest arrivals in a selected time frame.
        </div>
      </div>
    </div>
    <div class="messageRequests">
      <div class="requestCircle">
        <div
          class="center-circle-progress"
          *ngFor="let item of messageOverallAnalytics?.stat"
        >
          <div>
            <circle-progress
              [radius]="item.radius"
              [percent]="item.progress"
              [space]="-5"
              [outerStrokeWidth]="5"
              [innerStrokeWidth]="5"
              [outerStrokeColor]="item.color"
              [innerStrokeColor]="'#e7e8ea'"
              [outerStrokeLinecap]="'square'"
              [animation]="true"
              [animationDuration]="300"
              [showTitle]="false"
              [showSubtitle]="false"
              [showUnits]="false"
              [showZeroOuterStroke]="false"
            ></circle-progress>
          </div>
        </div>
        <div class="center-circle-progress">
          <div class="centerText">
            <div class="center-circle-progress__total">
              {{ messageOverallAnalytics?.total || 0 }}
            </div>
            <div class="center-circle-progress__text">
              Total Requests
            </div>
          </div>
        </div>
      </div>
      <div class="growth">
        <div
          class="growthCell"
          *ngFor="let item of messageOverallAnalytics?.stat"
        >
          <div class="growthCell__Img">
            <img
              *ngIf="item.label == 'Delivered'"
              src="assets/svg/delivered.svg"
              alt="{{ item.label }}"
            />
            <img
              *ngIf="item.label == 'Sent'"
              src="assets/svg/sent.svg"
              alt="{{ item.label }}"
            />
            <img
              *ngIf="item.label == 'Read'"
              src="assets/svg/read.svg"
              alt="{{ item.label }}"
            />
            <img
              *ngIf="item.label == 'Failed'"
              src="assets/svg/failed.svg"
              alt="{{ item.label }}"
            />
          </div>
          <div>
            <img
              *ngIf="item.label == 'Delivered'"
              src="assets/svg/uparrow.svg"
              alt="{{ item.label }}"
            />
            <img
              *ngIf="item.label == 'Sent'"
              src="assets/svg/uparrow.svg"
              alt="{{ item.label }}"
            />
            <img
              *ngIf="item.label == 'Read'"
              src="assets/svg/uparrow.svg"
              alt="{{ item.label }}"
            />
            <img
              *ngIf="item.label == 'Failed'"
              src="assets/svg/downarrow.svg"
              alt="{{ item.label }}"
            />
            <span
              class="percentChange"
              [ngClass]="{
                percentGreen: item.label == 'Delivered',
                percentGreen: item.label == 'Sent',
                percentGreen: item.label == 'Read',
                percentRed: item.label == 'Failed'
              }"
              >{{ item.comparisonPercentage }}%</span
            >
            <span class="day">than yesterday</span>
          </div>
        </div>
      </div>
    </div>
    <div class="detailsWrapper">
      <div
        class="detail"
        *ngFor="let item of messageOverallAnalytics?.stat; let i = index"
        [ngStyle]="{ 'margin-bottom': i <= 1 ? '20px' : '0' }"
      >
        <div class="divide" [style.border]="'1px solid' + item.color"></div>
        <div class="compareLast">
          <div class="detailHeading">
            {{ item.label }}
          </div>
          <div class="detailText">{{ item.today }} Today</div>
          <div class="detailText">{{ item.yesterday }} Yesterday</div>
        </div>
      </div>
    </div>
  </div>
  <div class="sentAnalytics">
    <div class="analyticsHeading">
      <p>SENT v/s DELIVERED</p>
      <div class="info-icon">
        <img src="assets/svg/info.svg" alt="info-icon" />
        <div class="tooltip">
          <span class="arrow"></span>
          Total number of guest arrivals in a selected time frame.
        </div>
      </div>
    </div>
    <div class="line-chart">
      <canvas
        baseChart
        class="canvas"
        [datasets]="chart.chartData"
        [labels]="chart.chartLabels"
        [options]="chart.chartOptions"
        [colors]="chart.chartColors"
        [legend]="chart.chartLegend"
        [chartType]="chart.chartType"
      >
      </canvas>
    </div>

    <div class="stat-labels-container">
      <div
        class="stat-label"
        (click)="legendOnClick(legendIndex)"
        *ngFor="let legend of legendData; let legendIndex = index"
      >
        <input class="legends" type="checkbox" />
        <img src="assets/svg/{{ legend.src }}.svg" />

        <p class="stat-label-title">{{ legend.label }}</p>
      </div>
    </div>
  </div>
</div>
<div style="display: flex; margin-top: 15px;">
  <div
    style="
      width: 60%;
      border: solid 1px #e2e2e2;
      border-radius: 5px;
      background: #ffffff 0% 0% no-repeat padding-box;
      margin-right: 15px;
    "
  >
    <hospitality-bot-conversation></hospitality-bot-conversation>
  </div>
  <div style="width: 40%;">
    <hospitality-bot-notification></hospitality-bot-notification>
  </div>
</div>
