<div>
  <hospitality-bot-navigation-header [heading]="pageTitle" [routes]="navRoutes">
    <!-- [dateTime]="draftDate | date" -->
  </hospitality-bot-navigation-header>

  <div class="form-block" [formGroup]="useForm" [id]="fa.referenceId">
    <div class="form-header">Campaign Details</div>
    <hospitality-bot-input
      class="half-width"
      controlName="campaignName"
      label="Campaign Name"
      [props]="{
        placeholder: 'Enter Campaign Name'
      }"
    ></hospitality-bot-input>
    <hospitality-bot-select
      class="half-width"
      controlName="topic"
      label="Topic"
      [options]="topicList | async"
      [props]="{
        placeholder: 'Select Topic'
      }"
    ></hospitality-bot-select>
    <hospitality-bot-to-receiver-field
      class="full-width"
      controlName="to"
      [recieverProps]="{
        entityId: entityId,
        chipList: inputControls?.to?.value,
        disableInput: inputControls?.to?.value?.length
      }"
    ></hospitality-bot-to-receiver-field>
    <div
      *ngIf="!inputControls?.bcc?.value || !inputControls?.cc?.value"
      class="add-control-btn full-width"
    >
      <hospitality-bot-button
        *ngIf="!inputControls?.cc?.value"
        label="+ Cc"
        (click)="addControl('cc')"
        height="20px"
        minWidth="20px"
        variant="text"
      ></hospitality-bot-button>
      <hospitality-bot-button
        *ngIf="!inputControls?.bcc?.value"
        label="+ Bcc"
        (click)="addControl('bcc')"
        variant="text"
        height="20px"
        minWidth="20px"
      ></hospitality-bot-button>
    </div>
    <hospitality-bot-chip-list
      *ngIf="inputControls?.cc?.value"
      class="full-width"
      label="Cc"
      controlName="cc"
      [props]="{
        placeholder: 'Add Recipient',
        errorMessages: {
          required: 'This is a required field.',
          pattern: 'Please enter a valid email address.'
        }
      }"
    ></hospitality-bot-chip-list>
    <hospitality-bot-chip-list
      *ngIf="inputControls?.bcc?.value"
      class="full-width"
      label="Bcc"
      controlName="bcc"
      [props]="{
        placeholder: 'Add Recipient',
        errorMessages: {
          required: 'This is a required field.',
          pattern: 'Please enter a valid email address.'
        }
      }"
    ></hospitality-bot-chip-list>
    <hr class="data-separator" />
    <div class="group-header half-width">When</div>
    <hospitality-bot-select
      class="half-width"
      controlName="campaignState"
      [options]="triggerOptions"
    ></hospitality-bot-select>
    <hospitality-bot-select
      *ngIf="inputControls.campaignState.value !== 'DOES_NOT_REPEAT'"
      class="half-width"
      controlName="event"
      label="Event"
      [options]="eventOptions"
      [props]="{
        placeholder: 'Select Event'
      }"
    ></hospitality-bot-select>
    <div
      *ngIf="inputControls.campaignState.value !== 'DOES_NOT_REPEAT'"
      class="half-width"
    ></div>
    <hospitality-bot-date
      class="half-width"
      controlName="startDate"
      label="Start Date"
      [settings]="{ enableTime: true }"
    ></hospitality-bot-date>
    <hospitality-bot-date
      *ngIf="inputControls.campaignState.value !== 'DOES_NOT_REPEAT'"
      class="half-width"
      controlName="endDate"
      label="End Date"
      [settings]="{ enableTime: true }"
    ></hospitality-bot-date>
    <hr class="data-separator" />
    <div class="group-header half-width">Add Content</div>
    <hospitality-bot-create-content
      *ngIf="!inputControls.message?.value?.length"
      class="full-width"
    ></hospitality-bot-create-content>
    <hospitality-bot-template-editor
      *ngIf="inputControls.message?.value?.length"
      class="full-width"
      controlName="message"
      [hybrid]="false"
    ></hospitality-bot-template-editor>
    <hospitality-bot-form-action
      class="full-width"
      (onPostAction)="handleSave()"
      (onPreAction)="handleSend()"
      [isSticky]="true"
      [isFixed]="true"
      [config]="{
        postLabel: 'Save',
        preLabel: 'Send',
        preVariant: 'outlined',
        preSeverity: 'primary'
      }"
      #fa
    >
    </hospitality-bot-form-action>
  </div>
</div>
