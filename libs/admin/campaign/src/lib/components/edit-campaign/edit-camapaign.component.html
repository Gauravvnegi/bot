<div class="wrapper">
  <mat-horizontal-stepper [@.disabled]="true" #stepper>
    <mat-step></mat-step>
    <mat-step></mat-step>
    <mat-step></mat-step>
  </mat-horizontal-stepper>
  <ng-container [ngSwitch]="stepper.selectedIndex">
    <ng-container *ngSwitchCase="0">
      <hospitality-bot-campaign-form
        [hotelId]="hotelId"
        [campaign]="campaign"
        [campaignId]="campaignId"
        [campaignFG]="campaignFG"
        (changeStep)="handleCreateContentChange($event)"
        (save)="saveAndCloseForm($event)"
      ></hospitality-bot-campaign-form>
    </ng-container>
    <ng-container *ngSwitchCase="1">
      <hospitality-bot-create-content
        (changeStep)="handleCreateContentChange($event)"
      ></hospitality-bot-create-content>
    </ng-container>
    <ng-container *ngSwitchCase="2">
      <hospitality-bot-template-list-container
        [hotelId]="hotelId"
        [templateType]="createContentType"
        (change)="changeStep($event)"
      ></hospitality-bot-template-list-container>
    </ng-container>
  </ng-container>

  <div class="btn-wrapper" *ngIf="stepper.selectedIndex === 0">
    <div
      class="schedule"
      (click)="scheduleCampaign()"
      [ngClass]="{ active: !isSending, disabled: isSending }"
    >
      <div class="schedule__text">
        Schedule
      </div>
    </div>
    <div
      class="send"
      (click)="sendMail()"
      [ngClass]="{ active: !isSending, disabled: isSending }"
    >
      <div class="send__text">
        <i *ngIf="isSending" class="fa fa-spinner fa-spin"></i>
        {{ isSending ? 'Sending' : 'Send' }}
      </div>
    </div>
  </div>
</div>
