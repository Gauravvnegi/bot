<div class="wrapper">
  <header class="wrapper-header">
    <div class="title">Send test Email</div>
    <div (click)="close()" class="close">
      <i class="fa fa-times" aria-hidden="true"></i>
    </div>
  </header>
  <div class="body" [formGroup]="parentFG">
    <div class="fields">
      <div class="field full-width">
        <mat-label class="mat-label">Email Address:</mat-label>
        <mat-form-field>
          <mat-chip-list #sendTest>
            <mat-chip
              *ngFor="let email of parentFG?.get('testEmails').value"
              (removed)="removeEmail(email, parentFG?.get('testEmails'))"
            >
              {{ email }}
              <button matChipRemove class="chip-remove-btn">
                <mat-icon>cancel</mat-icon>
              </button>
            </mat-chip>
            <input
              placeholder="Send upto 5 emails at once"
              [matChipInputFor]="sendTest"
              [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
              [matChipInputAddOnBlur]="addOnBlur"
              (matChipInputTokenEnd)="
                addEmail($event, parentFG?.get('testEmails'))
              "
            />
          </mat-chip-list>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="btn-wrapper">
    <div class="cancel" (click)="close()">
      <div class="cancel__text">Cancel</div>
    </div>
    <div
      class="send"
      (click)="sendMail()"
      [ngClass]="{ active: !isSending, disabled: isSending }"
    >
      <div class="send__text">
        <i *ngIf="isSending" class="fa fa-spinner fa-spin"></i>
        {{ isSending ? 'Sending' : 'Send' }}
      </div>
    </div>
  </div>
</div>
