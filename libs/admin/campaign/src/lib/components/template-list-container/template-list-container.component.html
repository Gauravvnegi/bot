<hospitality-bot-navigation-header
  heading="Template"
></hospitality-bot-navigation-header>

<div class="container" [formGroup]="templateForm">
  <div class="form-block">
    <ng-container *ngIf="campaignType === 'EMAIL'">
      <hospitality-bot-select
        class="half-width"
        label="Template"
        [options]="templateTypes"
        controlName="template"
      ></hospitality-bot-select>
      <hospitality-bot-select
        class="half-width"
        controlName="topic"
        label="Topic"
        [options]="topicList | async"
      ></hospitality-bot-select>
    </ng-container>
    <ng-container *ngIf="campaignType === 'WHATSAPP'">
      <hospitality-bot-select
        class="half-width"
        controlName="topic"
        label="Topic"
        [options]="topicList | async"
      ></hospitality-bot-select>
    </ng-container>
  </div>

  <ng-container *ngIf="!loading; else loader">
    <ng-container *ngFor="let template of templateTopicList; last as isLast">
      <hospitality-bot-topic-templates
        [entityId]="entityId"
        [template]="template"
        (selectedTemplate)="selectedTemplate($event)"
      ></hospitality-bot-topic-templates>
      <div *ngIf="!isLast" class="line"></div>
    </ng-container>
  </ng-container>
</div>

<ng-template #loader>
  <hospitality-bot-loader-bounce class="loader"></hospitality-bot-loader-bounce>
</ng-template>
