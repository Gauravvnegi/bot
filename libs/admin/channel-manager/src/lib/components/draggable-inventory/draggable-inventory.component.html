<div
  class="grid-container"
  #myBounds
  [ngStyle]="{ width: noOfColumn * cellSize + 'px' }"
>
  <div
    *ngFor="let row of gridRows; let i = index"
    class="grid-row"
    [id]="'myContainment_' + i"
  >
    <div
      *ngFor="let y of columnMapper; let j = index"
      class="grid-cell"
      [ngStyle]="{
        width: cellSize + 'px',
        height: cellSize + 'px'
      }"
    >
      <div
        *ngIf="data[row.value] && data[row.value][y]"
        ngDraggable
        ngResizable
        [rzMinWidth]="cellSize / 2"
        [rzGrid]="cellSize / 2"
        [position]="{ x: data[row.value][y]?.hasPrev ? cellSize / 2 : 1, y: 0 }"
        [gridSize]="cellSize / 2"
        [ngStyle]="{
          width:
            cellSize * data[row.value][y]?.cellOccupied -
            (data[row.value][y]?.hasNext ? cellSize / 2 : 0) -
            (data[row.value][y]?.hasPrev ? cellSize / 2 : 0) +
            'px',
          height: cellSize + 'px',
          padding: cellGap + 'px'
        }"
        zIndex="100"
        zIndexMoving="1000"
        [preventDefaultEvent]="true"
        class="drag-grid"
        rzHandles="e,w"
        (rzStop)="handleResizing($event)"
        (endOffset)="
          handleDrag($event, {
            rv: row.value,
            cv: y
          })
        "
      >
        <div
          class="cell-data"
          [ngStyle]="{
            height: cellSize - 2 * cellGap + 'px'
          }"
        >
          {{ data[row.value][y]?.name }}
        </div>
      </div>
      <!-- for grid view -->
      <div
        [ngDraggable]="false"
        [preventDefaultEvent]="true"
        class="non-drag-grid"
        zIndex="1"
        [ngStyle]="{
          width: cellSize - 2 * cellGap + 'px',
          height: cellSize - 2 * cellGap + 'px',
          margin: cellGap + 'px'
        }"
      ></div>
    </div>
  </div>
</div>
<!-- <nz-row>
  <nz-col [nzSpan]="12" style="min-height: 200px;">
    <div ngResizable [rzGrid]="50" class="resizable-widget">
      <h4 class="widget-header">Resizable</h4>
      <div>[rzGrid]=50</div>
    </div>
  </nz-col>
  <nz-col [nzSpan]="12" style="min-height: 200px;">
    <div ngResizable [rzGrid]="[50, 100]" class="resizable-widget">
      <h4 class="widget-header">Resizable</h4>
      <div>[rzGrid]=[50, 100]</div>
    </div>
  </nz-col>
</nz-row> -->

<div>
  {{ offset | json }}
</div>

<div>
  {{ position | json }}
</div>

<div>
  {{ size | json }}
</div>

<div>
  {{ columnMapper | json }}
</div>

<div>
  {{ gridRows | json }}
</div>

<div>
  {{ data | json }}
</div>
