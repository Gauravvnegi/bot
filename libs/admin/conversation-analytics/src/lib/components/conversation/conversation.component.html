<div class="stats">
  <hospitality-bot-custom-tooltip
    [text]="'Bifurcation as per messages'"
    *skeleton="stats == undefined; height: '25px'; width: '125px'"
  >
    <div class="stats__title">
      Conversation
    </div>
  </hospitality-bot-custom-tooltip>

  <div class="stats__body">
    <div class="graph-container">
      <div class="graphcontainer__graph">
        <ng-container
          *skeleton="
            stats == undefined;
            height: '161px';
            width: '161px';
            borderRadius: '50%';
            margin: '30px 0 0 50px'
          "
        >
          <canvas
            baseChart
            width="200px"
            class="graphcontainer__graph-canvas"
            [data]="chart.Data"
            [labels]="chart.Labels"
            [chartType]="chart.Type"
            [legend]="chart.Legend"
            [colors]="chart.Colors"
            [options]="chart.Options"
          >
          </canvas>
        </ng-container>
      </div>
    </div>
    <div class="stats__body__detail">
      <ng-container
        *skeleton="
          stats == undefined;
          height: '70px';
          width: '100%';
          repeat: 3;
          margin: '0 0 10px 0'
        "
      ></ng-container>

      <div class="stats__body__detail__shared" *ngIf="stats">
        <div>{{ stats?.totalResponse }}</div>
        <div>
          <div class="stats__body__detail__shared__p">
            <span
              class="percentChange"
              [ngStyle]="
                stats.comparePercent >= 0
                  ? {
                      color: '#52b33f'
                    }
                  : { color: '#CC052B' }
              "
              >({{ stats.comparePercent }}%)</span
            ><img
              class="received-wrap__container__percentChange-img"
              [src]="
                stats.comparePercent >= 0
                  ? 'assets/svg/uparrow.svg'
                  : 'assets/svg/down-percentage.svg'
              "
              alt="uparrow"
            />
          </div>
          <div class="received-wrap__container__date">
            in 30 Days
          </div>
        </div>
      </div>
      <div class="stats__body__detail__sharedtitle" *ngIf="stats">
        Overall
      </div>
      <ng-container *ngIf="stats?.statistics">
        <div class="received-wrap" *ngFor="let item of stats.statistics">
          <div class="received-wrap__container">
            <div
              class="received-wrap__container__dot"
              [style.background]="item.color"
            ></div>
            <div class="received-wrap__container__count">
              {{ item.count }}
            </div>
            <div>
              <span
                class="percentChange"
                [ngStyle]="
                  item.comparePercent >= 0
                    ? {
                        color: '#52b33f'
                      }
                    : { color: '#CC052B' }
                "
                >({{ item.comparePercent }}%)</span
              ><img
                class="received-wrap__container__percentChange-img"
                [src]="
                  item.comparePercent >= 0
                    ? 'assets/svg/uparrow.svg'
                    : 'assets/svg/down-percentage.svg'
                "
                alt="uparrow"
              />
            </div>
            <div class="received-wrap__container__date">
              in 30 Days
            </div>
          </div>
          <div class="received-wrap__recived-title">
            {{ item.label }}
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
