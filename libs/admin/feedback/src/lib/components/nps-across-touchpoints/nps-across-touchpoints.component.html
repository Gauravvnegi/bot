<div class="container" [formGroup]="npsFG">
  <div class="title-container">
    <div class="icon">
      <img src="assets/svg/nps-touchpoint.svg" />
    </div>
    <div class="stat-title">NPS Across All Touchpoints</div>
  </div>
  <div class="tab-group">
    <hospitality-bot-tab-group
      [listItems]="tabFilterItems"
      [selectedIndex]="tabFilterIdx"
      (selectedTabChange)="onSelectedTabFilterChange($event)"
    ></hospitality-bot-tab-group>
  </div>
  <div class="button__wrapper">
    <mat-chip-list
      multiple
      #chipList
      aria-label="Quick Reply selection"
      formControlName="quickReplyActionFilters"
      *ngIf="tabFilterItems.length"
    >
      <mat-chip
        *ngFor="
          let quickReplyType of tabFilterItems[tabFilterIdx].chips;
          let quickReplyTypeIdx = index
        "
        selectable="true"
        [selected]="isQuickReplyFilterSelected(quickReplyType)"
        (click)="toggleQuickReplyFilter(quickReplyTypeIdx, quickReplyType)"
      >
        {{ quickReplyType.label }}
        <!-- <span *ngIf="quickReplyType.value != 'ALL'"> (</span
			>{{ quickReplyType.total
			}}<span *ngIf="quickReplyType.value != 'ALL'">)</span> -->
      </mat-chip>
    </mat-chip-list>
    <img src="assets/svg/Filter-Icon.svg" />
  </div>
  <div class="progress-container" *ngIf="progresses.length">
    <div class="label-container">
      <div class="label">Source</div>
      <div class="progress"></div>
    </div>
    <ng-container *ngFor="let progress of progresses">
      <div class="label-container">
        <div class="label">{{ progress.label }}</div>
        <div class="progress-wrapper">
          <div class="dropdown-list">
            <div class="title">NPS Across All Touchpoints</div>
            <div class="key" *ngFor="let p of progress.progressValues">
              <div class="icon front"></div>
              <div class="label">{{ p.label }}</div>
              <div class="value">{{ p.score }}</div>
            </div>
          </div>
          <div class="progress">
            <div
              *ngFor="let p of progress.progressValues"
              [fxFlex]="p.score"
              [style.background]="p.colorCode"
            ></div>
          </div>
        </div>
      </div>
    </ng-container>
    <div class="label-container">
      <div class="label"></div>
      <div class="progress-values">
        <div *ngFor="let value of progressValues">{{ value }}</div>
      </div>
    </div>
    <div class="label-container">
      <div class="label"></div>
      <div
        class="divider-container"
        [style.height]="40 * progresses.length + 'px'"
      >
        <div class="divider" *ngFor="let value of progressValues"></div>
      </div>
    </div>
  </div>
  <div class="key-container" *ngIf="progresses.length">
    <div class="key" *ngFor="let p of progresses[0].progressValues">
      <div class="icon" [style.background]="p.colorCode"></div>
      <div class="label">{{ p.label }}</div>
    </div>
  </div>
</div>
