<div class="stats" click-allow (click)="openTableModal($event)">
  <div class="stats__head" [formGroup]="bifurcationFG">
    <div
      class="stats__head__title"
      *skeleton="stats == undefined; height: '20px'; width: '150px'"
    >
      {{ 'bifurcation.title' | translate }}
    </div>
    <div
      *skeleton="
        stats == undefined;
        height: '33px';
        width: '115px';
        borderRadius: '5px'
      "
    >
      <mat-select
        (click)="stopOpenModal($event)"
        class="stats__head__select"
        formControlName="bifurcation"
        (selectionChange)="handleBifurcationChange($event)"
      >
        <mat-option [value]="item.key" *ngFor="let item of keyLabels">{{
          item.label
        }}</mat-option>
      </mat-select>
    </div>
  </div>
  <div class="stats__container">
    <div class="stats__container__graph">
      <div class="stats__container__graph__canvas">
        <canvas
          *skeleton="
            stats == undefined;
            height: '200px';
            width: '200px';
            borderRadius: '50%'
          "
          baseChart
          height="220px"
          z-index="2"
          [data]="feedbackChart.Data"
          [labels]="feedbackChart.Labels"
          [chartType]="feedbackChart.Type"
          [legend]="feedbackChart.Legend"
          [colors]="feedbackChart.Colors"
          [options]="feedbackChart.Options"
        >
        </canvas>
      </div>
      <div class="stats__container__graph__labels">
        <div class="val">{{ stats?.totalCount }}</div>
        <div class="label">{{ stats?.label }}</div>
      </div>
    </div>
    <div class="stats__container__actions">
      <ng-container
        *skeleton="
          stats === undefined;
          height: '30px';
          width: '150px';
          repeat: 4;
          margin: '10px 0'
        "
      >
        <ng-container *ngFor="let action of stats?.feedbacks">
          <div
            *ngIf="action.label !== 'Timeout'"
            class="stats__container__actions__action"
          >
            <div class="stats__container__actions__action__record">
              <div
                class="stats__container__actions__action__record__dot"
                [style.background-color]="action.color"
              ></div>
              <div class="stats__container__actions__action__record__stat">
                {{ action.score }}
              </div>
            </div>
            <div class="stats__container__actions__action__label">
              {{ action.label }}
            </div>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <div>
    <div class="progress progress-bar-height">
      <div
        aria-valuemax="100"
        aria-valuemin="10"
        aria-valuenow="100"
        class="progress-bar progress-color"
        role="progressbar"
        [style.width]="progress + '%'"
        [ngStyle]="{ 'background-color': timeoutColor }"
      ></div>
    </div>
    <div class="progress-info">
      <div
        class="progress-info-labels"
        *skeleton="stats == undefined; height: '18px'; width: '72px'"
      >
        <span class="label"
          >{{ 'Timed-Out' }}&nbsp;<strong>{{
            timeout
          }}</strong></span
        >
      </div>
      <div
        class="progress-info-labels"
        *skeleton="stats == undefined; height: '18px'; width: '72px'"
      >
        <span class="label"
          >{{ 'Remaining' }}&nbsp;<b>{{
            total - timeout
          }}</b></span
        >
      </div>
    </div>
  </div>
</div>
