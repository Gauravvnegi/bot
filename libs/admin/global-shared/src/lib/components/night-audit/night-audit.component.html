<div class="audit-wrapper">
  <!-- header -->
  <ng-template *ngTemplateOutlet="sidebarHeader"></ng-template>
  <div class="audit-content_wrapper">
    <hospitality-bot-stepper
      [completedStyle]="'dark'"
      [incompleteDisable]="true"
      [stepList]="itemList"
      [activeIndex]="activeStep"
      (onActive)="activeStep = $event.index"
    ></hospitality-bot-stepper>
    <ng-container [ngSwitch]="activeStep">
      <hospitality-bot-manage-logged-users
        *ngSwitchCase="0"
        class="audit-content"
        [activeIndex]="activeStep"
        [stepList]="itemList"
        (indexChange)="activeStep = $event"
      ></hospitality-bot-manage-logged-users>
      <hospitality-bot-checkin-reservations
        *ngSwitchCase="1"
        class="audit-content"
        [activeIndex]="activeStep"
        [loading]="loading"
        [items]="checkedInReservation"
        [stepList]="itemList"
        (reload)="checkAudit($event)"
        (onClose)="close($event)"
        (indexChange)="activeStep = $event"
        (onNavigate)="onNavigate($event)"
      ></hospitality-bot-checkin-reservations>
      <hospitality-bot-checkout-reservations
        *ngSwitchCase="2"
        class="audit-content"
        [items]="checkedOutReservation"
        [loading]="loading"
        [activeIndex]="activeStep"
        [stepList]="itemList"
        (reload)="checkAudit()"
        (indexChange)="activeStep = $event"
        (onNavigate)="onNavigate($event)"
      ></hospitality-bot-checkout-reservations>
      <hospitality-bot-audit-summary
        *ngSwitchCase="3"
        class="audit-content"
        [activeIndex]="activeStep"
        [stepList]="itemList"
        (indexChange)="finish($event)"
        (auditDateChange)="auditDate = $event"
      ></hospitality-bot-audit-summary>
    </ng-container>
  </div>
</div>

<ng-template #sidebarHeader>
  <div class="sidebar-slide-header">
    <span class="title">{{ pageTitle }}</span>
    <span class="center-item" *ngIf="auditDate">
      <img src="assets/svg/calendar-dark.svg" alt="date" class="white-icon" />
      {{ auditDate | date: 'dd/MM/yyyy' }}</span
    >
    <span class="close-icon" (click)="close()">
      <i class="pi pi-arrow-right" aria-hidden="true"></i>
    </span>
  </div>
</ng-template>
