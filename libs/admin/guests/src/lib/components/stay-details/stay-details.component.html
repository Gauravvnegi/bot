<div class="material-body">
	<div class="label-wrapper">
		<mat-label class="heading">Stay Details</mat-label>
	</div>
	<div class="booking__container" *ngFor="let booking of guestBookings.presentBookings">
		<mat-accordion>
			<mat-expansion-panel #depositPanel>
				<mat-expansion-panel-header class="accordian__header">
					<mat-panel-title class="container__title">
						<p>
							Current Booking - {{ rowData.booking.bookingNumber }}
						</p>
						<div class="header-seperator"></div>
						<p>
							{{ rowData.booking.getArrivalDate() }} - {{
								rowData.booking.getDepartureDate()
							}} ({{ rowData.booking.getDaysAndNights().nights }}N |
							{{ rowData.booking.getDaysAndNights().days }}D)
						</p>
						<div class="header-seperator"></div>
						<div class="booking-id-wrapper">
							<div *ngIf="['COMPLETED'].includes(rowData.feedback.status)" class="feedback">
								<!-- <p class="label">Feedback :</p> -->
								<div class="booking-feedback">
									<p class="number" [ngClass]="{
											'status-background-reject': rowData.feedback.rating < 5,
											'status-background-success': rowData.feedback.rating >= 5
										}">
										{{ rowData.feedback.rating }}
									</p>
									<ng-container *ngFor="
											let suggestion of rowData.feedback.suggestions.slice(
												0,
												2
											)
										">
										<img class="feedback-icon" [ngClass]="{
												'status-image-reject': rowData.feedback.rating < 5,
												'status-image-success': rowData.feedback.rating >= 5
											}" [src]="feedbackService.getServiceUrl(suggestion.id)" />
									</ng-container>
		
									<div *ngIf="rowData.feedback.comments" [ngClass]="{
											'feedback-msg': rowData.feedback.comments.length > 0
										}">
										{{ rowData.feedback.comments }}
									</div>
								</div>
							</div>
						</div>
						<mat-icon class="expand-icon" *ngIf="!depositPanel.expanded"
							>add</mat-icon
						>
						<mat-icon class="expand-icon" *ngIf="depositPanel.expanded"
							>remove</mat-icon
						>
					</mat-panel-title>
				</mat-expansion-panel-header>
			</mat-expansion-panel>
		</mat-accordion>
	</div>
	<div class="booking__container" *ngFor="let booking of guestBookings.upcomingBookings">
		<mat-accordion>
			<mat-expansion-panel #depositPanel1>
				<mat-expansion-panel-header class="accordian__header">
					<mat-panel-title class="container__title">
						<p>
							Upcoming Booking - {{ rowData.booking.bookingNumber }}
						</p>
						<div class="header-seperator"></div>
						<p>
							{{ rowData.booking.getArrivalDate() }} - {{
								rowData.booking.getDepartureDate()
							}} ({{ rowData.booking.getDaysAndNights().nights }}N |
							{{ rowData.booking.getDaysAndNights().days }}D)
						</p>
						<div class="header-seperator"></div>
						<div class="booking-id-wrapper">
							<div *ngIf="['COMPLETED'].includes(rowData.feedback.status)" class="feedback">
								<!-- <p class="label">Feedback :</p> -->
								<div class="booking-feedback">
									<p class="number" [ngClass]="{
											'status-background-reject': rowData.feedback.rating < 5,
											'status-background-success': rowData.feedback.rating >= 5
										}">
										{{ rowData.feedback.rating }}
									</p>
									<ng-container *ngFor="
											let suggestion of rowData.feedback.suggestions.slice(
												0,
												2
											)
										">
										<img class="feedback-icon" [ngClass]="{
												'status-image-reject': rowData.feedback.rating < 5,
												'status-image-success': rowData.feedback.rating >= 5
											}" [src]="feedbackService.getServiceUrl(suggestion.id)" />
									</ng-container>
		
									<div *ngIf="rowData.feedback.comments" [ngClass]="{
											'feedback-msg': rowData.feedback.comments.length > 0
										}">
										{{ rowData.feedback.comments }}
									</div>
								</div>
							</div>
						</div>
						<mat-icon class="expand-icon" *ngIf="!depositPanel1.expanded"
							>add</mat-icon
						>
						<mat-icon class="expand-icon" *ngIf="depositPanel1.expanded"
							>remove</mat-icon
						>
					</mat-panel-title>
				</mat-expansion-panel-header>
			</mat-expansion-panel>
		</mat-accordion>
	</div>
	<div class="booking__container" *ngFor="let rowData of guestBookings.pastBookings">
		<mat-accordion>
			<mat-expansion-panel #depositPanel2>
				<mat-expansion-panel-header class="accordian__header">
					<mat-panel-title class="container__title">
						<p>
							Past Booking - {{ rowData.booking.bookingNumber }}
						</p>
						<div class="header-seperator"></div>
						<p>
							{{ rowData.booking.getArrivalDate() }} - {{
								rowData.booking.getDepartureDate()
							}} ({{ rowData.booking.getDaysAndNights().nights }}N |
							{{ rowData.booking.getDaysAndNights().days }}D)
						</p>
						<div class="header-seperator"></div>
						<div class="booking-id-wrapper">
							<div *ngIf="['COMPLETED'].includes(rowData.feedback.status)" class="feedback">
								<!-- <p class="label">Feedback :</p> -->
								<div class="booking-feedback">
									<p class="number" [ngClass]="{
											'status-background-reject': rowData.feedback.rating < 5,
											'status-background-success': rowData.feedback.rating >= 5
										}">
										{{ rowData.feedback.rating }}
									</p>
									<ng-container *ngFor="
											let suggestion of rowData.feedback.suggestions.slice(
												0,
												2
											)
										">
										<img class="feedback-icon" [ngClass]="{
												'status-image-reject': rowData.feedback.rating < 5,
												'status-image-success': rowData.feedback.rating >= 5
											}" [src]="feedbackService.getServiceUrl(suggestion.id)" />
									</ng-container>
		
									<div *ngIf="rowData.feedback.comments" [ngClass]="{
											'feedback-msg': rowData.feedback.comments.length > 0
										}">
										{{ rowData.feedback.comments }}
									</div>
								</div>
							</div>
						</div>
						<mat-icon class="expand-icon" *ngIf="!depositPanel2.expanded"
							>add</mat-icon
						>
						<mat-icon class="expand-icon" *ngIf="depositPanel2.expanded"
							>remove</mat-icon
						>
					</mat-panel-title>
				</mat-expansion-panel-header>
				<div>
					<ng-container>
						<div class="feilds-wrapper">
							<div class="feild width-quarter">
								<mat-label class="label">Arrival Date</mat-label>
								<div class="value">
									{{ rowData.booking.getArrivalDate() }}
								</div>
							</div>
							<div class="feild width-quarter">
								<mat-label class="label">Departure Date</mat-label>
								<div class="value">
									{{ rowData.booking.getDepartureDate() }}
								</div>
							</div>
							<div class="feild width-quarter">
								<mat-label class="label">Expected Arrival Time</mat-label>
								<div
									class="value"
								>
									{{ rowData.booking.getArrivalTime() }}
								</div>
							</div>
						</div>
						<div class="feilds-wrapper">
							<div class="feild width-quarter">
								<mat-label class="label">Duration</mat-label>
								<div class="value">
									{{ rowData.booking.getDaysAndNights().nights }}N |
									{{ rowData.booking.getDaysAndNights().days }}
								</div>
							</div>
							<div class="feild width-quarter">
								<mat-label class="label">Room Type</mat-label>
								<div class="value">
									{{ rowData.rooms.type }}
								</div>
							</div>
							<div class="feild width-quarter">
								<mat-label class="label">Room Number</mat-label>
								<div class="value">
									{{ rowData.rooms.roomNumber }}
								</div>
							</div>
						</div>
					</ng-container>
				</div>
				<hr class="data-seperator" />
				<div>
					<p>Journey Feedback</p>
					<div class="feilds-wrapper">
						<div class="feild width-quarter">
							<mat-label class="label">Date/Time</mat-label>
							<div class="value">
								{{ rowData.booking.getArrivalDate() }}
							</div>
						</div>
						<div class="feild width-quarter">
							<mat-label class="label">Ratings</mat-label>
							<div class="value">
								{{ rowData.booking.getDepartureDate() }}
							</div>
						</div>
						<div class="feild width-quarter">
							<mat-label class="label">Facilities</mat-label>
							<div
								class="value"
							>
								{{ rowData.booking.getArrivalTime() }}
							</div>
						</div>
					</div>
				</div>
			</mat-expansion-panel>
		</mat-accordion>
	</div >
</div>
