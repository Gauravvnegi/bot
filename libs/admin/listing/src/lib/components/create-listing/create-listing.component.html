<div class="wrapper">
  <header class="wrapper-header">
    <div class="back">
      <mat-icon class="material-icons" matSuffix (click)="goBack()"
        >keyboard_backspace</mat-icon
      >
      <p class="label">
        Create Listing
      </p>
    </div>
  </header>
  <form [formGroup]="listFG">
    <div class="wrapper-form">
      <div class="fields">
        <div class="field">
          <mat-label class="mat-label">Name:</mat-label>
          <mat-form-field>
            <input
              matInput
              placeholder="Enter Listing Name"
              formControlName="name"
            />
            <mat-error
              *ngIf="
                listFG.get('name').touched &&
                listFG.get('name').hasError('required')
              "
            >
              Name is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="field">
          <mat-label class="mat-label">Topic:</mat-label>
          <mat-form-field>
            <mat-select formControlName="topicName">
              <mat-option
                *ngFor="let topic of topicList"
                [value]="topic.name"
                >{{ topic.name }}</mat-option
              >
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="fields">
        <div class="field description-field">
          <mat-label class="mat-label mat-description">Description:</mat-label>
          <mat-form-field class="description">
            <input
              matInput
              placeholder="Write Your Description Here"
              formControlName="description"
            />
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="wrapper-text">
      <ng-container
        *ngIf="
          listFG?.get('marketingContacts')?.value.length;
          then contactDatatable;
          else noContact
        "
      ></ng-container>
      <ng-template #contactDatatable
        ><hospitality-bot-contact-datatable
          [dataSource]="listFG?.get('marketingContacts')?.value"
          [totalRecords]="listFG?.get('marketingContacts')?.value.length"
          [add]="true"
          [hotelId]="hotelId"
          (updateContacts)="updateContactList($event)"
        ></hospitality-bot-contact-datatable
      ></ng-template>
      <ng-template #noContact>
        <div class="add-text">
          Add Contacts
        </div>
        <div class="manually-add">
          <div class="manually-contacts" (click)="openAddContact($event)">
            <img src="assets/images/add-user.png" alt="Add User" />
            <div class="manually-import">
              Add Contacts Manually
            </div>
          </div>
          <div class="manually-contacts" (click)="openImportContact($event)">
            <img src="assets/images/group.png" alt="Add User" />
            <div class="manually-import">
              Import your contacts
            </div>
          </div>
        </div>
      </ng-template>
    </div>
    <div class="wrapper-form">
      <div class="fields">
        <div class="toggle_wrapper">
          <mat-label class="mat-label">Active :</mat-label>
          <div class="status status--left">Disable</div>
          <mat-slide-toggle formControlName="active"></mat-slide-toggle>
          <div class="status status--right">Enable</div>
        </div>
      </div>
    </div>
    <div class="save-section">
      <div class="save-button" (click)="createList()">
        <div class="save-text">
          Save
        </div>
      </div>
    </div>
  </form>
</div>
