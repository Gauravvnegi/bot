<div class="panel-tree">
  <p-accordion class="accordion">
    <p-accordionTab>
      <p-header>
        <div
          class="panel-tree__header label-checkbox-wrapper category-header"
          [ngStyle]="parentHeadingStyle"
        >
          <span class="panel-tree__header-checkbox">
            <div
              [id]="roomsData.id"
              (click)="
                onRoomChange(!roomsData.isSelected, roomsData.id, 'parent');
                $event.stopPropagation()
              "
              class="checkbox"
            >
              <img
                *ngIf="roomsData.isSelected"
                class="checkbox__img"
                src="assets/svg/checkboxSelect.svg"
                alt="select"
              />
            </div>
          </span>
          <label
            class="panel-tree__header-label enable-child"
            (click)="
              onRoomChange(!roomsData.isSelected, roomsData.id, 'parent');
              $event.stopPropagation()
            "
          >
            {{ roomsData.name }}
          </label>
        </div>
      </p-header>
      <div class="panel-tree__content">
        <p-accordion [multiple]="true" class="w-full">
          <p-accordionTab
            *ngFor="let variant of roomsData.variants; let variantIndex = index"
            class="disable-parent"
          >
            <p-header>
              <div class="varient__heading label-checkbox-wrapper">
                <span class="panel-tree__header-checkbox">
                  <div
                    [id]="roomsData.id + '-' + variant.id"
                    (click)="
                      onRoomChange(
                        !variant.isSelected,
                        variant.id,
                        'variant',
                        variantIndex
                      );
                      $event.stopPropagation()
                    "
                    class="enable-child checkbox"
                  >
                    <img
                      *ngIf="variant.isSelected"
                      class="checkbox__img"
                      src="assets/svg/checkboxSelect.svg"
                      alt="select"
                    />
                  </div>
                </span>

                <span class="panel-tree__header-checkbox variant-wrapper">
                  <span
                    class="enable-child"
                    (click)="
                      onRoomChange(
                        !variant.isSelected,
                        variant.id,
                        'variant',
                        variantIndex
                      );
                      $event.stopPropagation()
                    "
                    >{{ variant.name }}</span
                  >
                  <hospitality-bot-menu-button
                    *ngIf="variant.pax.length"
                    class="channel-btn enable-child"
                    [label]="variant.pax.length + ' Pax'"
                  ></hospitality-bot-menu-button>

                  <!-- REMARKS: This feature may be used in future
                  <hospitality-bot-menu-button
                    class="channel-heading enable-child"
                    [label]="roomsData.variants.length + ' Channels'"
                  ></hospitality-bot-menu-button> -->
                </span>
              </div>
            </p-header>
            <label
              class="pax channel label-checkbox-wrapper panel-tree__header enable-child"
              *ngFor="let pax of variant.pax; let paxIndex = index"
              (click)="
                onRoomChange(
                  !pax.isSelected,
                  pax.id,
                  'pax',
                  variantIndex,
                  paxIndex
                )
              "
              [ngClass]="'active-channel'"
            >
              <span class="panel-tree__header-checkbox">
                <div
                  [id]="roomsData.id + '-' + variant.id + '-' + [pax].id"
                  class="checkbox"
                >
                  <img
                    *ngIf="pax.isSelected"
                    class="checkbox__img"
                    src="assets/svg/checkboxSelect.svg"
                    alt="select"
                  />
                </div>
              </span>
              <span class="panel-tree__header-label">
                {{ pax.name }}
              </span>
            </label>

            <label
              class="channel label-checkbox-wrapper panel-tree__header enable-child"
              *ngFor="let channel of variant.channels; let channelIndex = index"
              (click)="
                onRoomChange(
                  !channel.isSelected,
                  channel.id,
                  'channel',
                  variantIndex,
                  channelIndex
                )
              "
              [ngClass]="'active-channel'"
            >
              <span class="panel-tree__header-checkbox">
                <div
                  [id]="roomsData.id + '-' + variant.id + '-' + channel.id"
                  class="checkbox"
                >
                  <img
                    *ngIf="channel.isSelected"
                    class="checkbox__img"
                    src="assets/svg/checkboxSelect.svg"
                    alt="select"
                  />
                </div>
              </span>
              <span class="panel-tree__header-label">
                {{ channel.name }}
              </span>
            </label>
          </p-accordionTab>
        </p-accordion>
      </div>
    </p-accordionTab>
  </p-accordion>
</div>
