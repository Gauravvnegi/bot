<div class="panel-tree" [formGroup]="roomsData">
  <p-accordion class="accordion">
    <p-accordionTab>
      <p-header>
        <div
          class="panel-tree__header label-checkbox-wrapper category-header"
          [ngStyle]="parentHeadingStyle"
        >
          <hospitality-bot-checkbox
            [label]="roomsData?.value?.name"
            controlName="isSelected"
            (change)="
              onRoomChange($event.checked, roomsData.value.id, 'parent')
            "
          >
          </hospitality-bot-checkbox>
        </div>
      </p-header>
      <div class="panel-tree__content">
        <p-accordion [multiple]="true" class="w-full">
          <p-accordionTab
            *ngFor="
              let variant of roomsData?.controls?.variants?.controls;
              let variantIndex = index
            "
            [formGroup]="variant"
            class="disable-parent"
          >
            <p-header>
              <div class="varient__heading label-checkbox-wrapper">
                <hospitality-bot-checkbox
                  [label]="variant.value.name"
                  controlName="isSelected"
                  (change)="
                    onRoomChange(
                      $event.checked,
                      variant.value.id,
                      'variant',
                      variantIndex
                    )
                  "
                >
                </hospitality-bot-checkbox>

                <span class="panel-tree__header-checkbox variant-wrapper">
                  <hospitality-bot-menu-button
                    *ngIf="variant.value.pax.length"
                    class="channel-btn enable-child"
                    [label]="variant.value.pax.length + ' Pax'"
                  ></hospitality-bot-menu-button>
                  <!-- REMARKS: This feature may be used in future
                  <hospitality-bot-menu-button
                    class="channel-heading enable-child"
                    [label]="roomsData.variants.length + ' Channels'"
                  ></hospitality-bot-menu-button> -->
                </span>
                <hospitality-bot-input
                  min="0"
                  controlName="price"
                  [props]="{
                    type: 'number',
                    errorMessages: {
                      min: 'Invalid'
                    }
                  }"
                  [isHideSpinners]="true"
                ></hospitality-bot-input>
              </div>
            </p-header>

            <div
              class="class"
              class="pax channel label-checkbox-wrapper panel-tree__header enable-child"
              *ngFor="
                let pax of variant.controls.pax.controls;
                let paxIndex = index
              "
              [formGroup]="pax"
            >
              <hospitality-bot-checkbox
                [label]="pax.value.name"
                controlName="isSelected"
                (change)="
                  onRoomChange(
                    $event.checked,
                    pax.id,
                    'pax',
                    variantIndex,
                    paxIndex
                  )
                "
              >
              </hospitality-bot-checkbox>
              <hospitality-bot-input
                min="0"
                controlName="price"
                [props]="{
                  type: 'number',
                  errorMessages: {
                    min: 'Invalid'
                  }
                }"
                [isHideSpinners]="true"
              ></hospitality-bot-input>
            </div>

            <!-- <label
              class="channel label-checkbox-wrapper panel-tree__header enable-child"
              *ngFor="let channel of variant.controls.channels.controls; let channelIndex = index"
              (click)="
                onRoomChange(
                  !channel.isSelected,
                  channel.id,
                  'channel',
                  variantIndex,
                  channelIndex
                )
              "
              [ngClass]="'active-channel'"
            >
              <span class="panel-tree__header-checkbox">
                <div
                  [id]="roomsData.id + '-' + variant.id + '-' + channel.id"
                  class="checkbox"
                >
                  <img
                    *ngIf="channel.isSelected"
                    class="checkbox__img"
                    src="assets/svg/checkboxSelect.svg"
                    alt="select"
                  />
                </div>
              </span>
              <span class="panel-tree__header-label">
                {{ channel.name }}
              </span>
            </label> -->
          </p-accordionTab>
        </p-accordion>
      </div>
    </p-accordionTab>
  </p-accordion>
</div>
