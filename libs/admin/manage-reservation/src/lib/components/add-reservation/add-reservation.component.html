<div [formGroup]="userForm" class="wrapper">
  <hospitality-bot-navigation-header [heading]="pageTitle" [routes]="routes">
  </hospitality-bot-navigation-header>
  <div class="main">
    <p-accordion [multiple]="true">
      <hospitality-bot-booking-info
        [reservationTypes]="reservationTypes"
        [bookingType]="bookingType"
      ></hospitality-bot-booking-info>
      <p-accordionTab class="room-info" header="Room Information">
        <hospitality-bot-room-iterator
          (refreshData)="getSummaryData()"
          (listenChanges)="listenForFormChanges()"
        >
        </hospitality-bot-room-iterator>
      </p-accordionTab>
      <hospitality-bot-guest-information></hospitality-bot-guest-information>
      <hospitality-bot-billing-address></hospitality-bot-billing-address>
      <hospitality-bot-instructions></hospitality-bot-instructions>
      <hospitality-bot-payment-rule
        [deductedAmount]="deductedAmount"
      ></hospitality-bot-payment-rule>
      <hospitality-bot-payment-method></hospitality-bot-payment-method>
    </p-accordion>
    <div class="bk-summary">
      <hospitality-bot-booking-summary
        [selectedOffer]="selectedOffer"
        [summaryData]="summaryData"
        [offersList]="offersList"
        (onOfferItemSelect)="offerSelect($event)"
        (onOfferSelect)="offerSelect()"
        (handleInitForm)="initForm()"
        [disabledForm]="disabledForm"
        [bookingInfo]="{
          bookingType: bookingType
        }"
      >
        <div class="bk-summary_roomInfo_checkoutInfo">
          <p class="bk-summary_roomInfo_checkoutInfo_heading">
            Checkin - Checkout
          </p>
          <p class="bk-summary_roomInfo_checkoutInfo_subText">
            {{
              userForm.get('reservationInformation.from')?.value
                | date: 'dd/MM/yyyy'
            }}
            -
            {{
              userForm.get('reservationInformation.to')?.value
                | date: 'dd/MM/yyyy'
            }}
          </p>
        </div>
        <div class="bk-summary_roomInfo_guestInfo">
          <p class="bk-summary_roomInfo_guestInfo_heading">
            Rooms & Guests
          </p>
          <p class="bk-summary_roomInfo_guestInfo_subText">
            {{ userForm.get('roomInformation.roomCount').value }}
            Room,
            {{ userForm.get('roomInformation.adultCount').value }}
            Adult,
            {{ userForm.get('roomInformation.childCount').value }}
            Kid
          </p>
        </div>
      </hospitality-bot-booking-summary>
    </div>
  </div>
</div>
