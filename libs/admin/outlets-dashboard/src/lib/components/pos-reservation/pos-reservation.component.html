<div class="container">
  <!-- Header -->
  <div class="header">
    <div class="heading">
      <span class="header-data">
        {{ data.tableName }} - {{ data.area }}
        <img
          class="pos-reservation-icon"
          src="assets/svg/pos-reservation.svg"
        />
      </span>
      <div [formGroup]="menuForm" class="form-block menu">
        <hospitality-bot-multi-select
          class="one-third-width"
          controlName="menu"
          [props]="{
            placeholder: 'Select Menu',
            variant: 'outlined'
          }"
          [settings]="{
            placeholder: 'Select Menu',
            showChips: false,
            maxSelectedLabels: 1
          }"
          [options]="menuOptions"
        ></hospitality-bot-multi-select>
      </div>
    </div>

    <div class="invoice-id">
      Invoice Id: {{ data.invoiceId }} &nbsp;
      <span>
        <img
          class="close-sidebar-icon"
          src="assets/svg/close-sidebar.svg"
          (click)="close()"
        />
      </span>
    </div>
  </div>

  <!-- Form -->
  <div class="pos-form" [formGroup]="userForm">
    <hospitality-bot-search
      class="one-fourth-width search"
      controlName="search"
      (clear)="clearSearch()"
      (search)="getSearchValue($event)"
      [searchApi]="searchApi"
      [props]="{
        placeholder: 'Search by Dish Name or Code'
      }"
    ></hospitality-bot-search>
    <hospitality-bot-multi-select
      class="one-fifth-width"
      controlName="tableNumber"
      [options]="tableNumbers"
      label="Table No./Area"
    ></hospitality-bot-multi-select>
    <hospitality-bot-select
      class="one-fifth-width"
      controlName="staff"
      [options]="staffList"
      [props]="{
        placeholder: 'Select'
      }"
      label="Staff"
    ></hospitality-bot-select>
    <hospitality-bot-select
      class="one-fifth-width"
      controlName="guest"
      [options]="guestList"
      [props]="{
        placeholder: 'Select'
      }"
      label="Guest"
    ></hospitality-bot-select>
    <hospitality-bot-input
      class="one-fifth-width"
      controlName="numberOfPersons"
      [props]="{
        placeholder: 'Enter'
      }"
      label="No. of Person"
    ></hospitality-bot-input>
  </div>

  <div class="tab-header">
    <hospitality-bot-custom-tab-header
      [listItems]="tabFilters"
    ></hospitality-bot-custom-tab-header>
  </div>

  <div class="content">
    <div class="menu-section">
      <div class="meal-preferences">
        <span
          *ngFor="let preference of mealPreferences"
          class="meal-preference"
          [class.selected]="selectedPreference === preference"
          (click)="selectedPreference = preference"
        >
          <img
            *ngIf="mealPreferenceConfig[preference]?.image"
            [ngStyle]="{
              padding: '2px'
            }"
            [src]="mealPreferenceConfig[preference]?.image"
          />
          {{ mealPreferenceConfig[preference].title }}
        </span>
      </div>

      <h3 class="menu-heading">
        Italian BreakFast
      </h3>
      <div class="menu-items">
        <ng-container *ngFor="let card of getCards()">
          <hospitality-bot-menu-item-card
            class="menu-item"
            [itemCard]="card"
          ></hospitality-bot-menu-item-card>
        </ng-container>
      </div>
    </div>
    <div class="summary-section">
      <hospitality-bot-order-summary></hospitality-bot-order-summary>
    </div>
  </div>
</div>

<div class="btn-wrapper">
  <div class="checkbox">
    <input
      #feedbackCheckbox
      type="checkbox"
      [checked]="sendFeedback"
      (change)="onSendFeedback($event.target)"
    />
    <label
      class="checkbox-label"
      (click)="feedbackCheckbox.click()"
      for="checkbox"
      >Send Feedback</label
    >
    <input
      #emailCheckbox
      type="checkbox"
      [checked]="emailInvoice"
      (change)="onEmailInvoice($event.target)"
    />
    <label class="checkbox-label" (click)="emailCheckbox.click()" for="checkbox"
      >Email Invoice</label
    >
  </div>
  <div class="buttons">
    <hospitality-bot-button
      label="Post to Room"
      (onClick)="postToRoom()"
    ></hospitality-bot-button>
    <hospitality-bot-button
      label="Save"
      (onClick)="handleSave()"
    ></hospitality-bot-button>
    <hospitality-bot-button
      label="Save & Print"
      (onClick)="handleSave(true)"
    ></hospitality-bot-button>
    <hospitality-bot-button
      label="Print KOT"
      (onClick)="handleKOT(true)"
    ></hospitality-bot-button>
    <hospitality-bot-button
      label="KOT"
      (onClick)="handleKOT()"
    ></hospitality-bot-button>
    <hospitality-bot-button
      label="Cancel"
      variant="text"
      severity="reset"
      (onClick)="close()"
    ></hospitality-bot-button>
  </div>
</div>
