<hospitality-bot-navigation-header
  [heading]="welcomeMessage"
  [routes]="navRoutes"
  [isBack]="false"
>
  <hospitality-bot-button
    label="+ Create Service Item"
    variant="text"
    severity="primary"
    (onClick)="createServiceItem()"
  ></hospitality-bot-button>
  <!-- <hospitality-bot-button
    label="+ Raise Complaint"
    (onClick)="raiseRequest()"
  ></hospitality-bot-button> -->
  <div
    class="guestInfoEditContainer"
    *ngIf="buttonConfig[0].button"
    (click)="raiseRequest()"
  >
    <img [src]="buttonConfig[0].icon" alt="" />
    <div class="guestInfoEditText">
      {{ buttonConfig[0].label }}
    </div>
  </div>
</hospitality-bot-navigation-header>

<div class="analytics-wrapper">
  <div class="analytics-top mb-20">
    <div class="stats--wrapper">
      <div class="bifurcation-stats">
        <complaint-bifurcation
          [globalQueries]="globalQueries"
        ></complaint-bifurcation>
      </div>
    </div>
  </div>

  <complaint-disengagement></complaint-disengagement>

  <div class="stat-card-wrapper">
    <hospitality-bot-stats-card
      *ngFor="let data of ticketsStats"
      [stats]="{ label: data.label, key: data.key }"
      class="stat-card"
    >
      <ng-container>
        <div class="additional-stats-container">
          <div class="stats-wrapper">
            <span class="stats">{{ data.averageResolvedJobs }}</span>
            <div class="text">Total Tickets</div>
          </div>
          <div class="stats-wrapper">
            <div class="stats">{{ data.averageTimePerJob }}</div>
            <div class="text">Minutes Avg. Time</div>
          </div>
        </div>
      </ng-container>
    </hospitality-bot-stats-card>

    <hospitality-bot-stats-card [stats]="agentStats" class="stat-card">
      <ng-container>
        <div class="additional-stats-container">
          <div class="stats-wrapper">
            <span class="stats">{{ agentsOnTicket }}</span>
            <div class="text">Agents On Ticket</div>
          </div>

          <div class="stats-wrapper">
            <span class="stats">{{ availableAgents }}</span>
            <div class="text">Available Agents</div>
          </div>
        </div>
      </ng-container>
    </hospitality-bot-stats-card>
  </div>
  <div class="analytics__bottom">
    <complaint-breakdown class="half-width"></complaint-breakdown>
    <avg-time class="half-width"></avg-time>
  </div>
</div>
<p-sidebar
  class="sidebar-slide"
  [ngClass]="sidebarType"
  [(visible)]="sidebarVisible"
  position="right"
  [showCloseIcon]="false"
>
  <ng-container #sidebarSlide></ng-container>
</p-sidebar>
