<div>
  <div class="material-body">
    <mat-label class="mat-head">Guest Info</mat-label>
    <form [formGroup]="guestDetailsForm">
      <ng-container
        formArrayName="guests"
        *ngFor="
          let guestFormGroup of guestDetailsForm.controls.guests?.value;
          let i = index
        "
      >
        <div class="feilds-wrapper" [formGroupName]="i">
          <div class="feild width-added">
            <mat-label class="label">Full Name</mat-label>
            <div class="value">
              {{ guestFormGroup.title }}
              {{ guestFormGroup.firstName }}
              {{ guestFormGroup.lastName }}
            </div>
          </div>
          <div class="feild width-added">
            <mat-label class="label">Phone No.</mat-label>
            <div class="value">
              {{ guestFormGroup.countryCode }}
              {{ guestFormGroup.phoneNumber }}
            </div>
          </div>
          <div class="feild width-added">
            <mat-label class="label">Email</mat-label>
            <div class="value">
              {{ guestFormGroup.email }}
            </div>
          </div>
        </div>
      </ng-container>
    </form>
    <hr class="data-seperator" />
    <mat-label class="mat-head">Stay Details</mat-label>
    <ng-container>
      <div class="feilds-wrapper">
        <div class="feild width-quarter">
          <mat-label class="label">Arrival Date</mat-label>
          <div class="value">
            {{ stayDetailsForm.get('arrivalDate').value }}
          </div>
        </div>
        <div class="feild width-quarter">
          <mat-label class="label">Departure Date</mat-label>
          <div class="value">
            {{ stayDetailsForm.get('departureDate').value }}
          </div>
        </div>
        <div class="feild width-quarter">
          <mat-label class="label">Expected Arrival Time</mat-label>
          <div class="value">
            {{ stayDetailsForm.get('expectedArrivalTime').value }}
          </div>
        </div>
        <div class="feild width-quarter">
          <mat-label class="label">Room Type</mat-label>
          <div class="value">
            {{ stayDetailsForm.get('roomType').value }}
          </div>
        </div>
      </div>
    </ng-container>
    <hr class="data-seperator" />
    <mat-label class="mat-head">Health Declaration</mat-label>
    <ng-container>
      <div class="pending-button-wrapper">
        <p class="health-status">
          Health Declaration Status :&nbsp;<b class="accepted">{{
            healthCardDetailsForm.get('status').value
          }}</b>
        </p>
        <div *ngIf="healthCardDetailsForm.get('status').value != 'PENDING'">
          <div class="decision-button-wrapper">
            <ng-container
              *ngIf="
                ['INITIATED', 'FAILED'].includes(
                  healthCardDetailsForm.get('status').value
                )
              "
            >
              <button class="right" (click)="updateHealthCardStatus('ACCEPT')">
                <img src="assets/svg/tick.svg" />
              </button>
              <button class="right" (click)="updateHealthCardStatus('REJECT')">
                <img src="assets/svg/cross.svg" />
              </button>
            </ng-container>
          </div>

          <div
            *ngIf="
              !(
                ['COMPLETED'].includes(
                  healthCardDetailsForm.get('status').value
                ) && !healthCardDetailsForm.get('remarks').value
              )
            "
          >
            <form [formGroup]="healthCardDetailsForm">
              <span class="text">Remark :</span>
              <mat-form-field>
                <input matInput formControlName="remarks" />
              </mat-form-field>
            </form>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>
