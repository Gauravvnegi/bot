<div class="details-wrapper">
  <div class="header">
    <div class="close">
      <i class="fa fa-times" aria-hidden="true"></i>
    </div>
    <div class="name-details" *ngIf="primaryGuest">
      <div class="name">
        <span
          >{{ primaryGuest.get('title').value
          }}{{ primaryGuest.get('firstName').value
          }}{{ primaryGuest.get('lastName').value }}</span
        >
        <div class="svg-wrapper">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="37.862"
            viewBox="0 0 16 37.862"
            class="svg"
          >
            <g id="standing-up-man-" transform="translate(-15.459)">
              <g
                id="Group_4959"
                data-name="Group 4959"
                transform="translate(15.459 0)"
              >
                <circle
                  id="Ellipse_721"
                  data-name="Ellipse 721"
                  cx="3.187"
                  cy="3.187"
                  r="3.187"
                  transform="translate(4.752)"
                  fill="#fff"
                />
                <path
                  id="Path_2154"
                  data-name="Path 2154"
                  d="M24.508,11.115a5.8,5.8,0,0,0-2.437.03c-5.3.621-7.019,6.754-6.533,11.43.211,2.022,3.4,2.043,3.185,0a12.138,12.138,0,0,1,.8-6.1v6.664c0,.078.008.152.011.228,0,.036-.011.066-.011.1,0,5.288-.009,10.575-.228,15.859-.1,2.349,3.545,2.34,3.642,0,.171-4.142.214-8.285.224-12.429a4.214,4.214,0,0,0,.518,0c.011,4.144.052,8.288.222,12.428.1,2.34,3.739,2.349,3.642,0-.218-5.284-.226-10.571-.226-15.859a2,2,0,0,0-.055-.457c0-2.3-.093-4.594-.066-6.889,1.085,1.836,1.184,4.637,1,6.452-.214,2.041,2.974,2.021,3.185,0C31.877,17.8,30.074,11.509,24.508,11.115Z"
                  transform="translate(-15.459 -3.222)"
                  fill="#fff"
                />
              </g>
            </g>
          </svg>
          <span>{{ guestDetailsForm.get('adultsCount').value }}</span>
        </div>
        <div class="svg-wrapper">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="12.96"
            height="23.764"
            viewBox="0 0 12.96 23.764"
            class="svg"
          >
            <g id="children" transform="translate(-148.54 -15.636)">
              <path
                id="Path_2151"
                data-name="Path 2151"
                d="M161.047,41.995a1.023,1.023,0,0,0-1.42.279l-2.816,4.194a2.29,2.29,0,0,0-1.027-.242h-1.535a2.292,2.292,0,0,0-1.022.239l-2.815-4.191a1.023,1.023,0,1,0-1.7,1.141l3.25,4.84c-.024.2-.014,13.639-.014,13.639a1.279,1.279,0,0,0,2.558,0V56.138h1.023v5.756a1.279,1.279,0,0,0,2.558,0c0-4.943.006-13.412-.019-13.632l3.255-4.847A1.023,1.023,0,0,0,161.047,41.995Z"
                transform="translate(0 -23.773)"
                fill="#fff"
              />
              <path
                id="Path_2152"
                data-name="Path 2152"
                d="M194.71,21.738a2.451,2.451,0,0,0,1.336-4.507,2.56,2.56,0,0,1,.46-.242.232.232,0,0,0,.02-.42,2.025,2.025,0,0,0-1.306-.12,2.548,2.548,0,0,1,.293-.433.232.232,0,0,0-.181-.38,2.9,2.9,0,0,0-2.046,1.462,1.57,1.57,0,0,0-.14.3,2.451,2.451,0,0,0,1.563,4.34Z"
                transform="translate(-39.69)"
                fill="#fff"
              />
            </g>
          </svg>
          <span>{{ guestDetailsForm.get('kidsCount').value }}</span>
        </div>
      </div>
      <div class="header-seperator"></div>
      <div class="booking-id">
        {{ reservationDetailsForm.get('bookingId').value }}
      </div>
      <div class="header-seperator"></div>

      <div class="room-details">
        {{ reservationDetailsForm.get('roomNumber').value }}-
        {{ guestDetailsForm.get('roomType').value }}
      </div>
    </div>
    <div class="contact-details" *ngIf="primaryGuest">
      <div class="call">
        <mat-icon class="material-icons" matSuffix>call</mat-icon
        >{{ primaryGuest.get('countryCode').value
        }}{{ primaryGuest.get('phoneNumber').value }}
      </div>

      <div class="email">
        <mat-icon class="material-icons" matSuffix>email</mat-icon
        >{{ primaryGuest.get('email').value }}
      </div>
    </div>
    <div class="options-wrapper">
      <button class="check-button">
        <mat-icon class="material-icons" matSuffix>check_circle</mat-icon>
        <p class="text">Reg card</p>
      </button>
      <button class="check-button">
        <mat-icon class="material-icons" matSuffix>check_circle</mat-icon>
        <p class="text">Health Declaration</p>
      </button>
      <p-dropdown [options]="items">
        <ng-template let-item pTemplate="selectedItem">
          <!-- <div class="profile__dropdown__image">
            <img src="assets/bg.png" />
          </div> -->
          <span style="vertical-align: middle; margin-left: 5px;"
            >Current Booking</span
          >
        </ng-template>
      </p-dropdown>
    </div>
  </div>
  <mat-tab-group>
    <mat-tab label="Guest Details">
      <form class="form-wrapper" [formGroup]="guestDetailsForm">
        <div class="left">
          <mat-label class="mat-head">Guest Info</mat-label>
          <ng-container
            formArrayName="guests"
            *ngFor="
              let guestFormGroup of guestDetailsForm.controls.guests?.value;
              let i = index
            "
          >
            <div class="feilds-wrapper" [formGroupName]="i">
              <div class="feild width-added">
                <mat-label class="label">Full Name</mat-label>
                <div class="value">
                  {{ guestFormGroup.title }}
                  {{ guestFormGroup.firstName }}
                  {{ guestFormGroup.lastName }}
                </div>
              </div>
              <div class="feild width-added">
                <mat-label class="label">Phone No.</mat-label>
                <div class="value">
                  {{ guestFormGroup.countryCode }}
                  {{ guestFormGroup.phoneNumber }}
                </div>
              </div>
              <div class="feild width-added">
                <mat-label class="label">Email</mat-label>
                <div class="value">
                  {{ guestFormGroup.email }}
                </div>
              </div>
            </div>
          </ng-container>
          <hr class="data-seperator" />
          <mat-label class="mat-head">Stay Details</mat-label>
          <ng-container>
            <div class="feilds-wrapper">
              <div class="feild width-quarter">
                <mat-label class="label">Arrival Date</mat-label>
                <div class="value">
                  {{ guestDetailsForm.get('arrivalTime').value }}
                </div>
              </div>
              <div class="feild width-quarter">
                <mat-label class="label">Departure Date</mat-label>
                <div class="value">
                  {{ guestDetailsForm.get('departureTime').value }}
                </div>
              </div>
              <div class="feild width-quarter">
                <mat-label class="label">Expected Arrival Time</mat-label>
                <div class="value">
                  {{ guestDetailsForm.get('expectedArrivalTime').value }}
                </div>
              </div>
              <div class="feild width-quarter">
                <mat-label class="label">Room Type</mat-label>
                <div class="value">
                  {{ guestDetailsForm.get('roomType').value }}
                </div>
              </div>
            </div>
          </ng-container>
          <hr class="data-seperator" />
          <mat-label class="mat-head">Health Declaration</mat-label>
          <ng-container>
            <p class="health-status">
              Health Declaration Status :&nbsp;<b>Accepted</b>
            </p>
          </ng-container>
        </div>

        <div class="right">
          <div class="button-wrapper">
            <button class="button">Confirm Details</button>
            <button class="button gap">View Docs</button>
          </div>
          <div class="right-bottom-icons">
            <p class="label">Contact Guest</p>
            <div class="social-icon-wrapper">
              <div class="social-icons">
                <i class="fas fa-paper-plane icon"></i>
              </div>
              <div class="social-icons">
                <i class="fas fa-paper-plane icon"></i>
              </div>
              <div class="social-icons">
                <i class="fas fa-paper-plane icon"></i>
              </div>
              <div class="social-icons">
                <i class="fas fa-paper-plane icon"></i>
              </div>
            </div>
          </div>
        </div>
      </form>
    </mat-tab>
    <mat-tab label="Documents">
      <div *ngIf="guestDetails">
        <div>
          <mat-form-field>
            <mat-select
              [(value)]="selectedGuest"
              (selectionChange)="onGuestChange($event.value)"
            >
              <mat-option
                *ngFor="let guest of guestDetails.guestDetails"
                [value]="guest.id"
              >
                {{ guest.firstName }}{{ guest.lastName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <ng-container
          *ngFor="let document of selectedDocument.controls; let i = index"
        >
          <div>
            Verification Status: Fail<mat-slide-toggle
              [(ngModel)]="document.get('verificationStatus').value"
            ></mat-slide-toggle>
            Pass
          </div>
          <div>
            <img [src]="document.get('frontUrl').value" />
            <span> {{ document.get('documentType').value }} FIRST PAGE </span>
          </div>
          <div *ngIf="document.get('documentType').value != 'VISA'">
            <img [src]="document.get('backUrl').value" />
            <span> {{ document.get('documentType').value }} BACK PAGE </span>
          </div>
          <mat-form-field>
            <input matInput />
          </mat-form-field>
        </ng-container>
      </div>
    </mat-tab>
    <mat-tab label="Package"> Content 3 </mat-tab>
  </mat-tab-group>
</div>
