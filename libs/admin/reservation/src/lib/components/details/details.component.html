<div class="details-wrapper">
  <div *ngIf="primaryGuest">
    <span
      >{{ primaryGuest.get('title').value
      }}{{ primaryGuest.get('firstName').value
      }}{{ primaryGuest.get('lastName').value }}</span
    >
    <span
      >{{ guestDetailsForm.get('adultsCount').value
      }}{{ guestDetailsForm.get('kidsCount').value }}</span
    >
  </div>
  <div *ngIf="primaryGuest">
    <span
      >{{ primaryGuest.get('countryCode').value
      }}{{ primaryGuest.get('phoneNumber').value }}</span
    >
    <span>{{ primaryGuest.get('email').value }}</span>
  </div>
  <div>
    {{ reservationDetailsForm.get('bookingId').value }}
    {{ reservationDetailsForm.get('roomNumber').value }}
    {{ guestDetailsForm.get('roomType').value }}
  </div>
  <mat-tab-group>
    <mat-tab label="Guest Details">
      <form class="form-wrapper" [formGroup]="guestDetailsForm">
        <mat-label class="mat-head">Guest Info</mat-label>
        <ng-container
          formArrayName="guests"
          *ngFor="
            let guestFormGroup of guestDetailsForm.controls.guests?.value;
            let i = index
          "
        >
          <div class="feilds-wrapper" [formGroupName]="i">
            <div class="feild width-added">
              <mat-label class="label">Full Name</mat-label>
              <div class="value">
                {{ guestFormGroup.title }}
                {{ guestFormGroup.firstName }}
                {{ guestFormGroup.lastName }}
              </div>
            </div>
            <div class="feild width-added">
              <mat-label class="label">Phone No.</mat-label>
              <div class="value">
                {{ guestFormGroup.countryCode }}
                {{ guestFormGroup.phoneNumber }}
              </div>
            </div>
            <div class="feild width-added">
              <mat-label class="label">Email</mat-label>
              <div class="value">
                {{ guestFormGroup.email }}
              </div>
            </div>
          </div>
        </ng-container>
        <hr class="data-seperator" />
        <mat-label class="mat-head">Stay Details</mat-label>
        <ng-container>
          <div class="feilds-wrapper">
            <div class="feild width-quarter">
              <mat-label class="label">Arrival Date</mat-label>
              <div class="value">
                {{ guestDetailsForm.get('arrivalTime').value }}
              </div>
            </div>
            <div class="feild width-quarter">
              <mat-label class="label">Departure Date</mat-label>
              <div class="value">
                {{ guestDetailsForm.get('departureTime').value }}
              </div>
            </div>
            <div class="feild width-quarter">
              <mat-label class="label">Expected Arrival Time</mat-label>
              <div class="value">
                {{ guestDetailsForm.get('expectedArrivalTime').value }}
              </div>
            </div>
            <div class="feild width-quarter">
              <mat-label class="label">Room Type</mat-label>
              <div class="value">
                {{ guestDetailsForm.get('roomType').value }}
              </div>
            </div>
          </div>
        </ng-container>
        <hr class="data-seperator" />
        <mat-label class="mat-head">Health Declaration</mat-label>
        <ng-container>
        <p class="health-status">
          Health Declaration Status :&nbsp;<b>Accepted</b>
        </p>
      </ng-container>
      </form>
    </mat-tab>
    <mat-tab label="Documents">
        <div *ngIf="guestDetails">
                <div>
                    <mat-form-field>
                        <mat-select [(value)]="selectedGuest" (selectionChange)="onGuestChange($event.value)">
                          <mat-option *ngFor="let guest of guestDetails.guestDetails" [value]="guest.id">
                            {{guest.firstName}}{{guest.lastName}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                </div>
                <ng-container *ngFor="let document of selectedDocument.controls; let i=index">
                    <div>
                        Verification Status: Fail<mat-slide-toggle [(ngModel)]="document.get('verificationStatus').value"></mat-slide-toggle> Pass
                    </div>
                    <div>
                        <img [src]="document.get('frontUrl').value">
                        <span>
                            {{document.get('documentType').value}} FIRST PAGE
                        </span>
                    </div>
                    <div *ngIf="document.get('documentType').value != 'VISA'">
                        <img [src]="document.get('backUrl').value">
                        <span>
                            {{document.get('documentType').value}} BACK PAGE
                        </span>
                    </div>
                    <mat-form-field>
                        <input matInput>
                    </mat-form-field>
                </ng-container>
        </div>
    </mat-tab>
    <mat-tab label="Package"> Content 3 </mat-tab>
  </mat-tab-group>
</div>
