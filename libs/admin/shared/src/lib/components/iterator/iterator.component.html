<div class="wrapper">
  <div class="main" #main>
    <div class="header">
      <div
        *ngFor="let field of fields"
        [style.flexBasis]="field.width ? field.width : width"
        class="header__cell"
      >
        {{ field.label }}
      </div>
    </div>

    <div
      [formArray]="useFormArray"
      *ngFor="let controls of useFormArray.controls; let i = index"
    >
      <div [formGroup]="controls" class="values-row">
        <div
          *ngFor="let field of fields"
          [style.flexBasis]="field.width ? field.width : width"
          [ngSwitch]="field.type"
        >
          <hospitality-bot-input
            *ngSwitchCase="'input'"
            [controlName]="field.name"
            [disabled]="field.disabled"
            [props]="{
              placeholder: field.placeholder ? field.placeholder : '',
              fontSize: '14px'
            }"
          ></hospitality-bot-input>
          <hospitality-bot-select
            *ngSwitchCase="'select'"
            [controlName]="field.name"
            [options]="field.options"
            [disabled]="field.disabled"
            [props]="{
              placeholder: field.placeholder ? field.placeholder : '',
              fontSize: '14px'
            }"
          ></hospitality-bot-select>
        </div>
        <mat-icon
          *ngIf="ctaLabel && (!maxLimit || maxLimit > useFormArray.length)"
          class="delete"
          (click)="removeField(i)"
          >clear</mat-icon
        >
      </div>
    </div>
  </div>

  <hospitality-bot-button
    *ngIf="ctaLabel && (!maxLimit || maxLimit > useFormArray.length)"
    class="action-btn"
    [label]="ctaLabel"
    (onClick)="addNewField()"
    variant="text"
  ></hospitality-bot-button>
</div>
