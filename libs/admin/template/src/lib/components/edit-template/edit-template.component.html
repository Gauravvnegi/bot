<div class="wrapper">
    <header class="wrapper-header">
      <div class="back">
        <mat-icon class="material-icons" matSuffix 
        (click)="goBack()"
          >keyboard_backspace</mat-icon
        >
        <p class="label">
          Edit Template
        </p>
      </div>
    </header>
    <form [formGroup]="templateForm">
      <div class="wrapper-form">
        <div class="feilds">
          <div class="feild">
            <mat-label class="mat-label">Name:</mat-label>
            <mat-form-field>
              <input
                matInput
                placeholder="Enter Template Name"
                formControlName="name"
              />
              <mat-error
                *ngIf="
                  templateForm.get('name').touched &&
                  templateForm.get('name').hasError('required')
                "
              >
                Name is required
              </mat-error>
            </mat-form-field>
          </div>
          <div class="feild">
            <mat-label class="mat-label">Topic:</mat-label>
            <mat-form-field>
              <mat-select formControlName="topicName" >
                <mat-option 
                  *ngFor="let topic of topicList"
                  [value]="topic.name"
                  >{{ topic.name }}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="feilds">
          <div class="feild description-feild">
            <mat-label class="mat-label mat-description">Description:</mat-label>
            <mat-form-field class="description">
              <input
                matInput
                placeholder="Write Your Description Here"
                formControlName="description"
              />
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="wrapper-text">
        <ng-container
          *ngIf="
            templateForm?.get('marketingContacts')?.value.length;
            then contactDatatable;
            else noContact
          "
        ></ng-container>
        <ng-template #contactDatatable
          ><hospitality-bot-contact-datatable
            [dataSource]="templateForm?.get('marketingContacts')?.value"
            [totalRecords]="templateForm?.get('marketingContacts')?.value.length"
            [add]="true"
            [hotelId]="hotelId"
            (updateContacts)="updateContactList($event)"
          ></hospitality-bot-contact-datatable
        ></ng-template>
        <ng-template #noContact>
          <div class="add-text">
            Edit Content
          </div>
          <div class="manually-add">
            <div class="manually-contacts" >
              <img src="" alt="" />
              <div class="logos">
                <div class="logos__logo">
                  <img src="assets/svg/view8280.svg" alt="" >
                </div>
                <div class="logos__logo">
                  <img src="assets/svg/edit8278.svg" alt="" >
                </div>
                <div class="logos__logo">
                  <img src="assets/svg/delete8279.svg" alt="" > 
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </div>
      <div class="wrapper-form">
        <div class="feilds">
          <div class="toggle_wrapper">
            <mat-label class="mat-label">Active :</mat-label>
            <div class="status status--left">Disable</div>
            <mat-slide-toggle formControlName="active"></mat-slide-toggle>
            <div class="status status--right">Enable</div>
          </div>
        </div>
      </div>
      <div class="save-section">
        <div
          class="save-button"
          (click)="createList()"
          [ngClass]="{ active: !isSaving, disabled: isSaving }"
        >
          <div class="save-text">
            <i *ngIf="isSaving" class="fa fa-spinner fa-spin"></i>
            {{ isSaving ? 'Saving' : 'Save' }}
          </div>
        </div>
      </div>
    </form>
  </div>
  