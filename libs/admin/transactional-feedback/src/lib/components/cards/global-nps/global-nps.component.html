<div class="container">
  <div class="title-container">
    <div class="icon">
      <img
        [src]="globalFeedbackConfig.images.globalNPS.url"
        [alt]="globalFeedbackConfig.images.globalNPS.alt"
      />
    </div>
    <div class="stat-title">{{ 'global_nps.title' | translate }}</div>
  </div>
  <div class="graph-container" *ngIf="!loading">
    <div class="graph">
      <canvas
        class="height-138"
        baseChart
        [data]="chart.data"
        [labels]="chart.labels"
        [chartType]="chart.type"
        [legend]="chart.legend"
        [colors]="chart.colors"
        [options]="chart.options"
      >
      </canvas>
    </div>
    <div class="detail-container" *ngIf="globalNps">
      <div class="wrapper-stats">
        <div class="val">{{ roundValue(globalNps.score) }}</div>
        <div
          class="comparisonPercent"
          [ngClass]="{
            'comparison-positive': roundValue(globalNps.comparisonPercent) >= 0,
            'comparison-negative': roundValue(globalNps.comparisonPercent) < 0
          }"
        >
          ({{ roundValue(globalNps.comparisonPercent) }}%)
          <img
            [src]="
              globalNps.comparisonPercent >= 0
                ? 'assets/svg/uparrow.svg'
                : 'assets/svg/down-percentage.svg'
            "
            alt="uparrow"
          />
          <span>{{ 'in_thirty_days' | translate }}</span>
        </div>
      </div>
      <div class="label">
        {{ 'global_nps.title' | translate }}
      </div>
    </div>
  </div>
  <div class="stat-vals-container" *ngIf="globalNps">
    <div class="stat-val-container">
      <div class="icon" [style.background]="'#EF1D45'"></div>
      <div class="stat-val">{{ roundValue(globalNps.negative.score) }}%</div>
      <div class="stat-lable">Negative</div>
      <div
        class="stat-comparisonPercent"
        [ngClass]="{
          'comparison-positive':
            roundValue(globalNps.negative.comparisonPercent) >= 0,
          'comparison-negative':
            roundValue(globalNps.negative.comparisonPercent) < 0
        }"
      >
        ({{ roundValue(globalNps.negative.comparisonPercent) }}%)
        <img
          [src]="
            globalNps.negative.comparisonPercent >= 0
              ? 'assets/svg/uparrow.svg'
              : 'assets/svg/down-percentage.svg'
          "
          alt="uparrow"
        />
      </div>
    </div>
    <div class="stat-val-container">
      <div class="icon" [style.background]="'#4BA0F5'"></div>
      <div class="stat-val">{{ roundValue(globalNps.neutral.score) }}%</div>
      <div class="stat-lable">Neutral</div>
      <div
        class="stat-comparisonPercent"
        [ngClass]="{
          'comparison-positive':
            roundValue(globalNps.neutral.comparisonPercent) >= 0,
          'comparison-negative':
            roundValue(globalNps.neutral.comparisonPercent) < 0
        }"
      >
        ({{ roundValue(globalNps.neutral.comparisonPercent) }}%)
        <img
          [src]="
            globalNps.neutral.comparisonPercent >= 0
              ? 'assets/svg/uparrow.svg'
              : 'assets/svg/down-percentage.svg'
          "
          alt="uparrow"
        />
      </div>
    </div>
    <div class="stat-val-container">
      <div class="icon" [style.background]="'#1AB99F'"></div>
      <div class="stat-val">{{ roundValue(globalNps.positive.score) }}%</div>
      <div class="stat-lable">Positive</div>
      <div
        class="stat-comparisonPercent"
        [ngClass]="{
          'comparison-positive': globalNps.positive.comparisonPercent >= 0,
          'comparison-negative': globalNps.positive.comparisonPercent < 0
        }"
      >
        ({{ roundValue(globalNps.positive.comparisonPercent) }}%)
        <img
          [src]="
            globalNps.positive.comparisonPercent >= 0
              ? 'assets/svg/uparrow.svg'
              : 'assets/svg/down-percentage.svg'
          "
          alt="uparrow"
        />
      </div>
    </div>
  </div>
  <div class="thirty__days">
    <span>{{ 'in_thirty_days' | translate }}</span>
  </div>
</div>
