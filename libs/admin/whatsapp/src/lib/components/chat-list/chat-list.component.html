<div
  class="chatlist-wrapper"
  [ngStyle]="
    !showFilter
      ? { visibility: 'visible', width: '100%' }
      : { visibility: 'hidden', height: '0px' }
  "
>
  <div class="search-filter-wrapper">
    <div class="search-wrapper" [formGroup]="contactFG">
      <input
        matInput
        type="text"
        class="search-field-input"
        placeholder="Search Name, Number, Room No...."
        formControlName="search"
      />
    </div>
    <div style="cursor: pointer;">
      <img src="assets/svg/Filter-Icon.svg" (click)="showFilter = true" />
    </div>
  </div>
  <div class="chatlist-contact" #contactList (scroll)="onScroll($event)">
    <div
      class="chatlist-item-wrapper"
      [ngStyle]="
        selected && selected.receiverId === contact.receiverId
          ? {
              'pointer-events': 'none',
              background: '#f1f1f1 0% 0% no-repeat padding-box'
            }
          : {}
      "
      *ngFor="let contact of chatList?.contacts"
      (click)="onChatSelect(contact)"
    >
      <div
        class="chatlist-item-wrapper-image"
        [style.background]="contact.color"
      >
        <img
          [src]="contact.profileUrl"
          *ngIf="contact.profileUrl; else defaultAvatar"
        />
        <ng-template #defaultAvatar
          ><div>{{ contact.getProfileNickName() }}</div></ng-template
        >
      </div>
      <div class="chatlist-item-wrapper-content">
        <div class="chatlist-item-wrapper-content-rnodate">
          <div class="rno-number" *ngIf="contact.roomNo; else noRoom">
            RNO: {{ contact.roomNo }}
          </div>
          <ng-template #noRoom><div class="rno-number"></div></ng-template>
          <div class="time">
            {{ contact.getTime() }}
          </div>
        </div>
        <div class="persons">
          {{ contact.name || contact.phone }}
        </div>
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <div class="description-message">
            {{
              contact.descriptionMessage &&
              contact.descriptionMessage.length > 31
                ? (contact.descriptionMessage | slice: 0:30) + '...'
                : contact.descriptionMessage
            }}
          </div>
          <div class="unread-count" *ngIf="contact.unreadCount">
            {{ contact.unreadCount }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div
  class="showFilter"
  [ngStyle]="
    showFilter
      ? { visibility: 'visible', width: '100%' }
      : { visibility: 'hidden', height: '0px', overflow: 'hidden' }
  "
>
  <div class="sortFilt">
    <div>Sort & Filters</div>
    <div class="cross" (click)="showFilter = false">
      &#10006;
    </div>
  </div>
  <div style="height: calc(100% - 62px);">
    <hospitality-bot-contact-sort-filter
      [parentFG]="contactFG"
      (filterApplied)="handleFilter($event)"
    ></hospitality-bot-contact-sort-filter>
  </div>
</div>
