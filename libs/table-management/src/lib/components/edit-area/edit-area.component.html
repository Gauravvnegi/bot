<div class="wrapper" [id]="fa.referenceId">
  <hospitality-bot-navigation-header [heading]="pageTitle" [routes]="navRoutes">
  </hospitality-bot-navigation-header>

  <div class="sub-wrapper" [formGroup]="useForm">
    <div class="main">
      <div class="sub-heading">
        Area Information

        <hospitality-bot-toggle-switch-with-label
          [isToggleOn]="areaFormControls.status.value"
          class="toggle action-wrapper"
          controlName="status"
          (onToggleSwitch)="statusUpdate($event)"
        ></hospitality-bot-toggle-switch-with-label>
      </div>
      <div class="form-block">
        <hospitality-bot-input
          class="half-width"
          controlName="name"
          label="Area Name"
          maxLength="60"
          [props]="{
            placeholder: 'Enter'
          }"
        ></hospitality-bot-input>

        <hospitality-bot-input
          class="full-width"
          controlName="shortDescription"
          label="Area Description"
          maxLength="120"
          [props]="{
            placeholder: 'Enter'
          }"
        ></hospitality-bot-input>
      </div>
    </div>
  </div>

  <div class="sub-wrapper" [formGroup]="tableForm" *ngIf="areaId">
    <div class="main">
      <div class="sub-heading">
        Tables
      </div>
      <div class="form-block">
        <div class="select-all">
          <ng-container
            [ngTemplateOutlet]="checkbox"
            [ngTemplateOutletContext]="{
              $implicit: { label: 'Select All', controlName: 'selectAll' }
            }"
          >
          </ng-container>
        </div>

        <div class="table-row-container" [formGroup]="tableListForm">
          <ng-container *ngFor="let table of tableList">
            <div class="card-container">
              <p-checkbox
                [formControlName]="table.controlName"
                [binary]="true"
                (onChanges)="toggleCheckboxSelection()"
              ></p-checkbox>
              <div class="label">{{ table.label }}</div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>

  <hospitality-bot-form-action
    class="full-width"
    [loading]="loading"
    [isId]="areaId"
    (onPreAction)="onReset()"
    (onPostAction)="onSubmit()"
    #fa
  >
  </hospitality-bot-form-action>
</div>

<ng-template #checkbox let-data>
  <div class="card-container" [formGroup]="tableForm">
    <p-checkbox
      [formControlName]="data.controlName"
      [binary]="true"
    ></p-checkbox>
    <div class="label">{{ data.label }}</div>
  </div>
</ng-template>
