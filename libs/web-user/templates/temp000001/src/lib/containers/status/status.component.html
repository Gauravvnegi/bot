<ng-template #loader>
  <div>
    <p class="loading">Loading Summary</p>
    <div class="spinner">
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div>
  </div>
</ng-template>
<ng-container *ngIf="!isLoaderVisible; else loader">
  <div class="status--heading">
    <div class="heading">Status:&nbsp;<b class="status">Active</b></div>
    <div class="icon-wrapper">
      <img src="assets/svg/Download.svg" (click)="downloadSummary()" />
      <img src="assets/svg/print.svg" (click)="printSummary()" />
    </div>
  </div>
  <div #content>
    <div *ngIf="guestDetail && guestDetail.guests.length">
      <div class="section--heading">Guest Details</div>
      <div class="section--content" *ngFor="let guest of guestDetail.guests">
        <div class="section--content--container">
          <div class="section--content--container--title">
            {{ guest.type === 'primary' ? 'Full Name (Primary)' : 'Full Name' }}
          </div>
          <div class="section--content--container--value">
            {{ guest.nameTitle }}
            {{ guest.firstName }}
            {{ guest.lastName }}
          </div>
        </div>
        <div class="section--content--container">
          <div class="section--content--container--title">Phone No.</div>
          <div class="section--content--container--value">
            {{
              guest.contactDetails.mobileNumber
                ? guest.contactDetails.cc +
                  ' ' +
                  guest.contactDetails.mobileNumber
                : '-'
            }}
          </div>
        </div>
        <div class="section--content--container">
          <div class="section--content--container--title">Email ID</div>
          <div class="section--content--container--value">
            {{ guest.contactDetails.emailId || '-' }}
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="stayDetail">
      <div class="section--heading">Stay Details</div>
      <div class="section--content">
        <div class="section--content--container">
          <div class="section--content--container--title">Arrival Date</div>
          <div class="section--content--container--value">
            {{ stayDetail.arrivalTime | date: 'dd - MM - yyyy' }}
          </div>
        </div>
        <div class="section--content--container">
          <div class="section--content--container--title">Departure Date</div>
          <div class="section--content--container--value">
            {{ stayDetail.departureTime | date: 'dd - MM - yyyy' }}
          </div>
        </div>
        <div class="section--content--container">
          <div class="section--content--container--title">Room Type</div>
          <div class="section--content--container--value">
            {{ stayDetail.roomType }}
          </div>
        </div>
        <div class="section--content--container">
          <div class="section--content--container--title">Room Occupancy</div>
          <div class="section--content--container--value--container">
            <div class="element">Adults: {{ stayDetail.adultsCount }}</div>
            <div>Kids: {{ stayDetail.kidsCount }}</div>
          </div>
        </div>
      </div>
    </div>
    <div
      *ngIf="
        summaryDetails.guestDetails.guests[0].statusMessage.status !== 'PENDING'
      "
    >
      <div class="section--heading">Documents</div>
      <div class="section--content">
        <div class="section--content--label">
          <ng-container
            [ngSwitch]="
              summaryDetails.guestDetails.guests[0].statusMessage.status
            "
          >
            <ng-container *ngSwitchCase="'PENDING'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Your documents are pending.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'INITIATED'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Your documents verification is initiated.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'COMPLETED'">
              <div>
                <img class="conditional-icon" src="assets/Right.png" />
              </div>
              <div class="section--content--health--message-detail">
                Your documents are verified successfully.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'FAILED'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Your documents verification failed.
              </div>
            </ng-container>
          </ng-container>
        </div>
      </div>
      <div
        class="section--content"
        *ngIf="
          summaryDetails.guestDetails.guests[0].statusMessage.status ===
          'FAILED'
        "
      >
        {{ summaryDetails.guestDetails.guests[0].statusMessage.remarks }}
      </div>
    </div>
    <div
      *ngIf="
        summaryDetails.healthDeclaration.statusMessage.status !== 'PENDING'
      "
    >
      <div class="section--heading">Health Declaration Form</div>
      <div class="section--content--health">
        <div class="section--content--health--message">
          <ng-container
            [ngSwitch]="summaryDetails.healthDeclaration.statusMessage.status"
          >
            <ng-container *ngSwitchCase="'PENDING'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Health Declaration form Pending.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'INITIATED'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Health Declaration form Initiated.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'COMPLETED'">
              <div>
                <img class="conditional-icon" src="assets/Right.png" />
              </div>
              <div class="section--content--health--message-detail">
                Health Declaration form has been signed.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'FAILED'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Health Declaration form verification failed.
              </div>
            </ng-container>
          </ng-container>
        </div>
        <div
          class="section--content"
          *ngIf="
            summaryDetails.healthDeclaration.statusMessage.status === 'FAILED'
          "
        >
          {{ summaryDetails.healthDeclaration.statusMessage.remarks }}
        </div>
        <div class="section--content--health--disclaimer">
          Disclaimer: Health Declaration Form will be validated at Front Desk
          the time of Check-in. To ensure safety of all customers, Hotel holds
          the right to take appropriate action as per the outcome.
        </div>
      </div>
    </div>
    <div
      *ngIf="summaryDetails.paymentSummary.statusMessage.status !== 'PENDING'"
    >
      <div class="section--heading">Payment Info</div>
      <div class="section--content">
        <div class="section--content--label">
          <ng-container
            [ngSwitch]="summaryDetails.paymentSummary.statusMessage.status"
          >
            <ng-container *ngSwitchCase="'PENDING'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Payment Pending.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'INITIATED'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Payment Initiated.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'COMPLETED'">
              <div>
                <img class="conditional-icon" src="assets/Right.png" />
              </div>
              <div class="section--content--health--message-detail">
                Payment Success.
              </div>
            </ng-container>
            <ng-container *ngSwitchCase="'FAILED'">
              <div>
                <img class="conditional-icon" src="assets/Info.png" />
              </div>
              <div class="section--content--health--message-detail">
                Payment Failed.
              </div>
            </ng-container>
          </ng-container>
        </div>
        <div class="section--content--label margin-added">
          Amount to pay:&nbsp;<span
            >{{ currencyCode }} {{ paymentDetails.payableAmount }}</span
          >
        </div>
      </div>
      <div
        class="section--content"
        *ngIf="summaryDetails.paymentSummary.statusMessage.status === 'FAILED'"
      >
        {{ summaryDetails.paymentSummary.statusMessage.remarks }}
      </div>
    </div>
  </div>
</ng-container>
